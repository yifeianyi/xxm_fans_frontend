(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,r)=>{"use strict";var a=e.r(71645),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,n=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var f="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),i=a[0].inst,f=a[1];return l(function(){i.value=r,i.getSnapshot=t,d(i)&&f({inst:i})},[e,r,t]),n(function(){return d(i)&&f({inst:i}),e(function(){d(i)&&f({inst:i})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:f},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},83599,e=>{"use strict";let t;var r=e.i(71645),a=e.i(2239);e.s(["ERROR_REVALIDATE_EVENT",()=>3,"FOCUS_EVENT",()=>0,"MUTATE_EVENT",()=>2,"RECONNECT_EVENT",()=>1],11671);var i=Object.prototype.hasOwnProperty;let s=new WeakMap,n=()=>{},l=n(),o=Object,d=e=>e===l,f=(e,t)=>({...e,...t}),c={},u={},m="undefined",h=typeof window!=m,x=typeof document!=m,g=h&&"Deno"in window,p=(e,t)=>{let r=s.get(e);return[()=>!d(t)&&e.get(t)||c,a=>{if(!d(t)){let i=e.get(t);t in u||(u[t]=i),r[5](t,f(i,a),i||c)}},r[6],()=>!d(t)&&t in u?u[t]:!d(t)&&e.get(t)||c]},b=!0,[y,v]=h&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[n,n],j={initFocus:e=>(x&&document.addEventListener("visibilitychange",e),y("focus",e),()=>{x&&document.removeEventListener("visibilitychange",e),v("focus",e)}),initReconnect:e=>{let t=()=>{b=!0,e()},r=()=>{b=!1};return y("online",t),y("offline",r),()=>{v("online",t),v("offline",r)}}},w=!r.default.useId,_=!h||g,S=_?r.useEffect:r.useLayoutEffect,E="u">typeof navigator&&navigator.connection,N=!_&&E&&(["slow-2g","2g"].includes(E.effectiveType)||E.saveData),k=new WeakMap,R=(e,t)=>e===`[object ${t}]`,O=0,T=e=>{let t,r,a=typeof e,i=o.prototype.toString.call(e),s=R(i,"Date"),n=R(i,"RegExp"),l=R(i,"Object");if(o(e)!==e||s||n)t=s?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=k.get(e))return t;if(t=++O+"~",k.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=T(e[r])+",";k.set(e,t)}if(l){t="#";let a=o.keys(e).sort();for(;!d(r=a.pop());)d(e[r])||(t+=r+":"+T(e[r])+",");k.set(e,t)}}return t},A=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?T(e):"",t]},C=0,V=()=>++C;async function M(...e){let[t,r,a,i]=e,n=f({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),o=n.populateCache,c=n.rollbackOnError,u=n.optimisticData,m=n.throwOnError;if("function"==typeof r){let e=[];for(let a of t.keys())!/^\$(inf|sub)\$/.test(a)&&r(t.get(a)._k)&&e.push(a);return Promise.all(e.map(h))}return h(r);async function h(r){let i,[f]=A(r);if(!f)return;let[h,x]=p(t,f),[g,b,y,v]=s.get(t),j=()=>{let e=g[f];return("function"==typeof n.revalidate?n.revalidate(h().data,r):!1!==n.revalidate)&&(delete y[f],delete v[f],e&&e[0])?e[0](2).then(()=>h().data):h().data};if(e.length<3)return j();let w=a,_=!1,S=V();b[f]=[S,0];let E=!d(u),N=h(),k=N.data,R=N._c,O=d(R)?k:R;if(E&&x({data:u="function"==typeof u?u(O,k):u,_c:O}),"function"==typeof w)try{w=w(O)}catch(e){i=e,_=!0}if(w&&"function"==typeof w.then){let e;if(w=await w.catch(e=>{i=e,_=!0}),S!==b[f][0]){if(_)throw i;return w}_&&E&&(e=i,"function"==typeof c?c(e):!1!==c)&&(o=!0,x({data:O,_c:l}))}if(o&&!_&&("function"==typeof o?x({data:o(w,O),error:l,_c:l}):x({data:w,error:l,_c:l})),b[f][1]=V(),Promise.resolve(j()).then(()=>{x({_c:l})}),_){if(m)throw i;return}return w}}let L=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},D=(e,t)=>{if(!s.has(e)){let r=f(j,t),a=Object.create(null),i=M.bind(l,e),o=n,d=Object.create(null),c=(e,t)=>{let r=d[e]||[];return d[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},u=(t,r,a)=>{e.set(t,r);let i=d[t];if(i)for(let e of i)e(r,a)},m=()=>{if(!s.has(e)&&(s.set(e,[a,Object.create(null),Object.create(null),Object.create(null),i,u,c]),!_)){let t=r.initFocus(setTimeout.bind(l,L.bind(l,a,0))),i=r.initReconnect(setTimeout.bind(l,L.bind(l,a,1)));o=()=>{t&&t(),i&&i(),s.delete(e)}}};return m(),[e,i,m,o]}return[e,s.get(e)[4]]},[P,I]=D(new Map),F=f({onLoadingSlow:n,onSuccess:n,onError:n,onErrorRetry:(e,t,r,a,i)=>{let s=r.errorRetryCount,n=i.retryCount,l=~~((Math.random()+.5)*(1<<(n<8?n:8)))*r.errorRetryInterval;(d(s)||!(n>s))&&setTimeout(a,l,i)},onDiscarded:n,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:N?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:N?5e3:3e3,compare:function e(t,r){var a,s;if(t===r)return!0;if(t&&r&&(a=t.constructor)===r.constructor){if(a===Date)return t.getTime()===r.getTime();if(a===RegExp)return t.toString()===r.toString();if(a===Array){if((s=t.length)===r.length)for(;s--&&e(t[s],r[s]););return -1===s}if(!a||"object"==typeof t){for(a in s=0,t)if(i.call(t,a)&&++s&&!i.call(r,a)||!(a in r)||!e(t[a],r[a]))return!1;return Object.keys(r).length===s}}return t!=t&&r!=r},isPaused:()=>!1,cache:P,mutate:I,fallback:{}},{isOnline:()=>b,isVisible:()=>{let e=x&&document.visibilityState;return d(e)||"hidden"!==e}}),$=(e,t)=>{let r=f(e,t);if(t){let{use:a,fallback:i}=e,{use:s,fallback:n}=t;a&&s&&(r.use=a.concat(s)),i&&n&&(r.fallback=f(i,n))}return r},z=(0,r.createContext)({});var U=e.i(11671);let B=h&&window.__SWR_DEVTOOLS_USE__,W=(B?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,a)=>{let i=r&&((...e)=>{let[a]=A(t),[,,,i]=s.get(P);if(a.startsWith("$inf$"))return r(...e);let n=i[a];return d(n)?r(...e):(delete i[a],n)});return e(t,i,a)});B&&(window.__SWR_DEVTOOLS_REACT__=r.default);let Y=()=>{},q=Y(),H=(new WeakMap,r.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}})),J={dedupe:!0},K=Promise.resolve(l),X=()=>n;o.defineProperty(e=>{let{value:t}=e,a=(0,r.useContext)(z),i="function"==typeof t,s=(0,r.useMemo)(()=>i?t(a):t,[i,a,t]),n=(0,r.useMemo)(()=>i?s:$(a,s),[i,a,s]),o=s&&s.provider,d=(0,r.useRef)(l);o&&!d.current&&(d.current=D(o(n.cache||P),s));let c=d.current;return c&&(n.cache=c[0],n.mutate=c[1]),S(()=>{if(c)return c[2]&&c[2](),c[3]},[]),(0,r.createElement)(z.Provider,f(e,{value:n}))},"defaultValue",{value:F});let G=(t=(e,t,i)=>{let{cache:n,compare:o,suspense:c,fallbackData:u,revalidateOnMount:x,revalidateIfStale:g,refreshInterval:b,refreshWhenHidden:y,refreshWhenOffline:v,keepPreviousData:j,strictServerPrefetchWarning:E}=i,[N,k,R,O]=s.get(n),[T,C]=A(e),L=(0,r.useRef)(!1),D=(0,r.useRef)(!1),P=(0,r.useRef)(T),I=(0,r.useRef)(t),F=(0,r.useRef)(i),$=()=>F.current.isVisible()&&F.current.isOnline(),[z,B,W,Y]=p(n,T),q=(0,r.useRef)({}).current,G=d(u)?d(i.fallback)?l:i.fallback[T]:u,Q=(e,t)=>{for(let r in q)if("data"===r){if(!o(e[r],t[r])&&(!d(e[r])||!o(el,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},Z=!L.current,ee=(0,r.useMemo)(()=>{let e=z(),r=Y(),a=e=>{let r=f(e);return(delete r._k,(()=>{if(!T||!t||F.current.isPaused())return!1;if(Z&&!d(x))return x;let e=d(G)?r.data:G;return d(e)||g})())?{isValidating:!0,isLoading:!0,...r}:r},i=a(e),s=e===r?i:a(r),n=i;return[()=>{let e=a(z());return Q(e,n)?(n.data=e.data,n.isLoading=e.isLoading,n.isValidating=e.isValidating,n.error=e.error,n):(n=e,e)},()=>s]},[n,T]),et=(0,a.useSyncExternalStore)((0,r.useCallback)(e=>W(T,(t,r)=>{Q(r,t)||e()}),[n,T]),ee[0],ee[1]),er=N[T]&&N[T].length>0,ea=et.data,ei=d(ea)?G&&"function"==typeof G.then?H(G):G:ea,es=et.error,en=(0,r.useRef)(ei),el=j?d(ea)?d(en.current)?ei:en.current:ea:ei,eo=T&&d(ei),ed=(0,r.useRef)(null);_||(0,a.useSyncExternalStore)(X,()=>(ed.current=!1,ed),()=>(ed.current=!0,ed));let ef=ed.current;E&&ef&&!c&&eo&&console.warn(`Missing pre-initiated data for serialized key "${T}" during server-side rendering. Data fetching should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);let ec=!(!T||!t||F.current.isPaused())&&(!er||!!d(es))&&(Z&&!d(x)?x:c?!d(ei)&&g:d(ei)||g),eu=d(et.isValidating)?ec:et.isValidating,em=d(et.isLoading)?ec:et.isLoading,eh=(0,r.useCallback)(async e=>{let t,r,a=I.current;if(!T||!a||D.current||F.current.isPaused())return!1;let s=!0,n=e||{},f=!R[T]||!n.dedupe,c=()=>w?!D.current&&T===P.current&&L.current:T===P.current,u={isValidating:!1,isLoading:!1},m=()=>{B(u)},h=()=>{let e=R[T];e&&e[1]===r&&delete R[T]},x={isValidating:!0};d(z().data)&&(x.isLoading=!0);try{if(f&&(B(x),i.loadingTimeout&&d(z().data)&&setTimeout(()=>{s&&c()&&F.current.onLoadingSlow(T,i)},i.loadingTimeout),R[T]=[a(C),V()]),[t,r]=R[T],t=await t,f&&setTimeout(h,i.dedupingInterval),!R[T]||R[T][1]!==r)return f&&c()&&F.current.onDiscarded(T),!1;u.error=l;let e=k[T];if(!d(e)&&(r<=e[0]||r<=e[1]||0===e[1]))return m(),f&&c()&&F.current.onDiscarded(T),!1;let n=z().data;u.data=o(n,t)?n:t,f&&c()&&F.current.onSuccess(t,T,i)}catch(r){h();let e=F.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(u.error=r,f&&c())&&(e.onError(r,T,e),(!0===t||"function"==typeof t&&t(r))&&(!F.current.revalidateOnFocus||!F.current.revalidateOnReconnect||$())&&e.onErrorRetry(r,T,e,e=>{let t=N[T];t&&t[0]&&t[0](U.ERROR_REVALIDATE_EVENT,e)},{retryCount:(n.retryCount||0)+1,dedupe:!0}))}return s=!1,m(),!0},[T,n]),ex=(0,r.useCallback)((...e)=>M(n,P.current,...e),[]);if(S(()=>{I.current=t,F.current=i,d(ea)||(en.current=ea)}),S(()=>{var e;let t;if(!T)return;let r=eh.bind(l,J),a=0;F.current.revalidateOnFocus&&(a=Date.now()+F.current.focusThrottleInterval);let i=(e=(e,t={})=>{if(e==U.FOCUS_EVENT){let e=Date.now();F.current.revalidateOnFocus&&e>a&&$()&&(a=e+F.current.focusThrottleInterval,r())}else if(e==U.RECONNECT_EVENT)F.current.revalidateOnReconnect&&$()&&r();else if(e==U.MUTATE_EVENT)return eh();else if(e==U.ERROR_REVALIDATE_EVENT)return eh(t)},(t=N[T]||(N[T]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});if(D.current=!1,P.current=T,L.current=!0,B({_k:C}),ec&&!R[T])if(d(ei)||_)r();else h&&typeof window.requestAnimationFrame!=m?window.requestAnimationFrame(r):setTimeout(r,1);return()=>{D.current=!0,i()}},[T]),S(()=>{let e;function t(){let t="function"==typeof b?b(z().data):b;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!z().error&&(y||F.current.isVisible())&&(v||F.current.isOnline())?eh(J).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[b,y,v,T]),(0,r.useDebugValue)(el),c){if(!w&&_&&eo)throw Error("Fallback data is required when using Suspense in SSR.");eo&&(I.current=t,F.current=i,D.current=!1);let e=O[T];if(H(!d(e)&&eo?ex(e):K),!d(es)&&eo)throw es;let r=eo?eh(J):K;!d(el)&&eo&&(r.status="fulfilled",r.value=!0),H(r)}return{mutate:ex,get data(){return q.data=!0,el},get error(){return q.error=!0,es},get isValidating(){return q.isValidating=!0,eu},get isLoading(){return q.isLoading=!0,em}}},function(...e){let a,i=(a=(0,r.useContext)(z),(0,r.useMemo)(()=>f(F,a),[a])),[s,n,l]="function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],o=$(i,l),d=t,{use:c}=o,u=(c||[]).concat(W);for(let e=u.length;e--;)d=u[e](d);return d(s,n||o.fetcher||null,o)});e.s(["default",()=>G],83599)},35526,75715,12927,e=>{"use strict";e.i(78514);var t=e.i(18110),r=e.i(53919);let a=new class{async getSongs(e){try{return{data:await r.songRepository.getSongs(e)}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch songs")}}}async getSongById(e){try{return{data:await r.songRepository.getSongById(e)}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch song")}}}async getRecords(e,a){try{return{data:await r.songRepository.getRecords(e,a)}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch records")}}}async getStyles(){try{return{data:await r.songRepository.getStyles()}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch styles")}}}async getTags(){try{return{data:await r.songRepository.getTags()}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch tags")}}}async getTopSongs(e){try{return{data:await r.songRepository.getTopSongs(e)}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch top songs")}}}async getOriginalWorks(){try{return{data:await r.songRepository.getOriginalWorks()}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch original works")}}}async getRandomSong(){try{return{data:await r.songRepository.getRandomSong()}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch random song")}}}async getRecommendation(){try{return{data:await r.songRepository.getRecommendation()}}catch(e){if(e instanceof t.ApiError)return{error:e};return{error:new t.ApiError(500,"Failed to fetch recommendation")}}}};e.s(["songService",0,a],75715);var i=e.i(47167),s=e.i(48317);let n=i.default.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8000/api",l=new s.ApiClient(n),o=new class{apiPath="data-analytics/submissions";async getMonthlyStats(e){let t=new URLSearchParams;t.set("year",e.year.toString()),e.platform&&t.set("platform",e.platform);let r=await l.get(`/${this.apiPath}/monthly/?${t.toString()}`);return r.data?{data:{year:r.data.year,platform:r.data.platform,monthlyStats:(r.data.monthly_stats||[]).map(e=>({month:e.month,total:e.total,valid:e.valid,invalid:e.invalid,firstSubmission:e.first_submission,lastSubmission:e.last_submission})),yearSummary:{totalSubmissions:r.data.year_summary?.total_submissions||0,validSubmissions:r.data.year_summary?.valid_submissions||0,invalidSubmissions:r.data.year_summary?.invalid_submissions||0,activeMonths:r.data.year_summary?.active_months||0}}}:r}async getMonthlyRecords(e){let{year:t,month:r,platform:a,isValid:i,page:n=1,pageSize:o=20}=e,d=new URLSearchParams;d.set("page",n.toString()),d.set("page_size",o.toString()),a&&d.set("platform",a),void 0!==i&&d.set("is_valid",i.toString());let f=await l.get(`/${this.apiPath}/monthly/${t}/${r}/?${d.toString()}`);return f.data?{data:{year:f.data.year,month:f.data.month,platform:f.data.platform,records:(f.data.records||[]).map(e=>({id:e.id,platform:e.platform,workId:e.work_id,title:e.title,author:e.author,publishTime:e.publish_time,coverUrl:(0,s.getFullCoverUrl)(e.cover_url),coverThumbnailUrl:(0,s.getFullCoverUrl)(e.cover_thumbnail_url),isValid:e.is_valid,videoUrl:e.video_url,videoEmbedUrl:e.video_embed_url})),pagination:{total:f.data.pagination?.total||0,page:f.data.pagination?.page||1,pageSize:f.data.pagination?.page_size||20,totalPages:f.data.pagination?.total_pages||1}}}:f}async getYearsOverview(e){let t=new URLSearchParams;e?.platform&&t.set("platform",e.platform),e?.startYear&&t.set("start_year",e.startYear.toString()),e?.endYear&&t.set("end_year",e.endYear.toString());let r=t.toString(),a=r?`years/?${r}`:"years/",i=await l.get(`/${this.apiPath}/${a}`);return i.data?{data:{platform:i.data.platform,years:(i.data.years||[]).map(e=>({year:e.year,totalSubmissions:e.total_submissions,validSubmissions:e.valid_submissions,invalidSubmissions:e.invalid_submissions,activeMonths:e.active_months,firstSubmission:e.first_submission,lastSubmission:e.last_submission})),summary:{totalYears:i.data.summary?.total_years||0,totalSubmissions:i.data.summary?.total_submissions||0,validSubmissions:i.data.summary?.valid_submissions||0,invalidSubmissions:i.data.summary?.invalid_submissions||0}}}:i}};e.s(["submissionService",0,o],12927),e.i(38057),e.i(99202),e.s([],35526)},42908,e=>{"use strict";let t=(0,e.i(75254).default)("disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Disc",()=>t],42908)},1905,e=>{"use strict";var t=e.i(43476),r=e.i(37902),a=e.i(71645),i=e.i(37727),s=e.i(42908);function n({songId:e,onClose:n}){let[l,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{e&&o(!0)},[e]),e&&l)?(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d fixed bottom-6 left-0 right-0 z-[100] flex justify-center px-4 animate-in slide-in-from-bottom-10 duration-500 pointer-events-none",children:[(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d pointer-events-auto w-full max-w-lg bg-white/85 backdrop-blur-xl border-2 border-white rounded-[2.5rem] shadow-2xl shadow-[#8eb69b]/20 overflow-hidden py-3 pl-4 pr-12 flex items-center gap-4 relative",children:[(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d w-12 h-12 bg-gradient-to-tr from-[#f8b195] to-[#f67280] rounded-full flex items-center justify-center shrink-0 shadow-lg shadow-[#f8b195]/30",children:(0,t.jsx)(s.Disc,{size:24,className:"text-white animate-spin-slow"})}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d flex-1 h-[52px] rounded-xl overflow-hidden relative",children:(0,t.jsx)("iframe",{frameBorder:"0",width:"100%",height:"52",src:`//music.163.com/outchain/player?type=2&id=${e}&auto=1&height=32`,title:"网易云音乐播放器",sandbox:"allow-scripts allow-same-origin allow-popups",loading:"lazy",className:"jsx-df5fd3f467cefe6d w-full h-full"})}),(0,t.jsx)("button",{onClick:()=>{o(!1),n()},className:"jsx-df5fd3f467cefe6d absolute right-2 top-1/2 -translate-y-1/2 p-2 text-[#8eb69b] hover:text-[#f8b195] hover:bg-[#fef5f0] rounded-full transition-all",children:(0,t.jsx)(i.X,{size:20})})]}),(0,t.jsx)(r.default,{id:"df5fd3f467cefe6d",children:"@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin-slow.jsx-df5fd3f467cefe6d{animation:8s linear infinite spin}"})]}):null}e.s(["default",()=>n])},96421,70551,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);e.s(["Shuffle",()=>r],96421);let a=(0,t.default)("list-music",[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);e.s(["ListMusic",()=>a],70551)},10407,e=>{"use strict";let t=(0,e.i(75254).default)("music-2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);e.s(["Music2",()=>t],10407)},67945,41614,e=>{"use strict";var t=e.i(43476),r=e.i(37902),a=e.i(71645),i=e.i(17697),s=e.i(96421),n=e.i(70551),l=e.i(42908),o=e.i(63059),d=e.i(10407);e.i(35526);var f=e.i(75715),c=e.i(83599),u=e.i(1905),m=e.i(5367);function h({work:e,onClose:r}){let[i,s]=(0,a.useState)(!1),[n,l]=(0,a.useState)(null);if((0,a.useEffect)(()=>{if(!e){s(!1),l(null);return}let t=e.neteaseId||e.songId;t?(l(t),s(!1)):(e.bilibiliBvid?s(!0):s(!1),l(null))},[e]),!e)return null;if(n)return(0,t.jsx)(u.default,{songId:n,onClose:r});if(e.bilibiliBvid&&i){let a=`https://www.bilibili.com/video/${e.bilibiliBvid}`;return(0,t.jsx)(m.default,{isOpen:i,onClose:r,videoUrl:a})}return null}function x(){let[e,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),{data:g=[],error:p,isLoading:b}=(0,c.default)("original-works",async()=>{let e=await f.songService.getOriginalWorks();if(e.error)throw e.error;return e.data}),y=(0,a.useMemo)(()=>g.filter(e=>e.featured),[g]),v=(0,a.useMemo)(()=>g.filter(e=>!e.featured),[g]),j=t=>{let r=t.neteaseId||t.songId,a=t.bilibiliBvid;r||a?e&&e.title===t.title&&e.date===t.date?u(null):u(t):alert("该歌曲暂无播放链接，敬请期待！")},w=t=>!!e&&e.title===t.title&&e.date===t.date;return p?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-8 text-center",children:[(0,t.jsx)("p",{className:"text-red-600 font-bold mb-2",children:"原唱作品加载失败"}),(0,t.jsx)("p",{className:"text-red-500 text-sm",children:p instanceof Error?p.message:"加载失败"})]}):b?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-[#f8b195] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-3 h-3 bg-[#f8b195] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-3 h-3 bg-[#f8b195] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}):(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d space-y-16 relative py-8",children:[(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d absolute inset-0 bg-[#8eb69b]/5 rounded-[3rem] -z-10 mx-4 md:mx-0"}),(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d flex flex-col md:flex-row items-end justify-between px-8 gap-6",children:[(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d space-y-4 text-center md:text-left",children:[(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d inline-flex items-center gap-2 text-[#f8b195] font-black text-xs uppercase tracking-[0.5em]",children:[(0,t.jsx)(l.Disc,{size:18,className:"animate-spin",style:{animationDuration:"3s"}}),"Original Archive"]}),(0,t.jsxs)("h2",{className:"jsx-df5fd3f467cefe6d text-4xl font-black text-[#4a3728] tracking-tighter",children:["咻咻满原唱作品集 (",g.length,")"]}),(0,t.jsx)("p",{className:"jsx-df5fd3f467cefe6d text-[#8eb69b] font-bold text-sm",children:"记录在满满的每一个音符"})]}),(0,t.jsxs)("button",{onClick:()=>{if(0===g.length)return;let e=g.filter(e=>e.neteaseId||e.songId||e.bilibiliBvid);if(0===e.length)return void alert("暂无可播放的歌曲");let t=Math.floor(Math.random()*e.length);u(e[t])},className:"jsx-df5fd3f467cefe6d flex items-center gap-3 px-8 py-4 bg-[#f8b195] text-white rounded-full font-black shadow-xl hover:scale-105 active:scale-95 transition-all",children:[(0,t.jsx)(s.Shuffle,{size:18}),"随机听一首原唱"]})]}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d grid grid-cols-1 md:grid-cols-3 gap-10 px-8",children:y.map((e,r)=>(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d group flex flex-col items-center gap-6",children:[(0,t.jsx)("div",{onClick:()=>j(e),className:"jsx-df5fd3f467cefe6d relative w-full aspect-square cursor-pointer",children:(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d relative z-10 w-full h-full rounded-[2.5rem] overflow-hidden border-4 border-white shadow-xl group-hover:shadow-2xl transition-all bg-gradient-to-br from-[#2d2d2d] to-[#1a1a1a]",children:[(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_30%,rgba(0,0,0,0.3)_100%)]"}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d absolute inset-0 bg-[repeating-radial-gradient(circle_at_center,transparent_0,transparent_2px,rgba(255,255,255,0.03)_2px,rgba(255,255,255,0.03)_4px)]"}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d relative w-full h-full flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:`jsx-df5fd3f467cefe6d relative w-full h-full rounded-full overflow-hidden border-4 border-[#4a4a4a] shadow-2xl transition-transform duration-500 ${w(e)?"animate-spin-slow":""}`,children:[e.cover?(0,t.jsx)("img",{src:e.cover,alt:e.title,className:"jsx-df5fd3f467cefe6d w-full h-full object-cover"}):(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d w-full h-full bg-gradient-to-br from-[#f8b195] to-[#f67280] flex items-center justify-center",children:(0,t.jsx)(l.Disc,{className:"w-16 h-16 text-white/50"})}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d w-4 h-4 rounded-full bg-[#1a1a1a] border-2 border-[#4a4a4a]"})})]})}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-[2.5rem]",children:(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d w-24 h-24 rounded-full bg-[#f8b195]/90 backdrop-blur-sm flex items-center justify-center shadow-2xl group-hover:scale-110 transition-transform",children:(0,t.jsx)(i.PlayCircle,{size:48,className:"text-white fill-white/30"})})}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d absolute top-4 left-4 right-4 h-1 bg-gradient-to-r from-transparent via-[#f8b195]/30 to-transparent"}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d absolute bottom-4 left-4 right-4 h-1 bg-gradient-to-r from-transparent via-[#8eb69b]/30 to-transparent"})]})}),(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d text-center space-y-1",children:[(0,t.jsxs)("span",{className:"jsx-df5fd3f467cefe6d text-[10px] font-black text-[#f8b195] uppercase tracking-widest",children:[e.date," Release"]}),(0,t.jsx)("h3",{className:"jsx-df5fd3f467cefe6d text-2xl font-black text-[#4a3728] tracking-tight",children:e.title}),(0,t.jsx)("p",{className:"jsx-df5fd3f467cefe6d text-xs text-[#8eb69b] font-medium opacity-80 px-4",children:e.desc}),(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d flex items-center justify-center gap-2 text-[#8eb69b] font-bold text-[11px] opacity-70",children:e.neteaseId||e.songId?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Music2,{size:12})," 网易云音乐"]}):e.bilibiliBvid?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.PlayCircle,{size:12})," B站视频"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.PlayCircle,{size:12})," 暂无链接"]})})]})]},r))}),v.length>0&&(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d px-8 pb-12",children:(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d glass-card rounded-[3rem] border-2 border-white overflow-hidden shadow-xl",children:[(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d p-6 md:p-10 bg-[#f2f9f1]/50 border-b border-white flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"jsx-df5fd3f467cefe6d flex items-center gap-3 text-[#4a3728] font-black",children:[(0,t.jsx)(n.ListMusic,{size:20,className:"text-[#8eb69b]"}),"作品档案库"]}),(0,t.jsx)("span",{className:"jsx-df5fd3f467cefe6d text-[10px] text-[#8eb69b] font-black uppercase tracking-widest",children:"Sorting by Date Desc"})]}),(0,t.jsx)("div",{className:`jsx-df5fd3f467cefe6d divide-y divide-white/50 ${!m?"max-h-[500px]":"max-h-[1000px]"} overflow-y-auto custom-scrollbar transition-all duration-700`,children:v.map((e,r)=>(0,t.jsxs)("div",{onClick:()=>j(e),className:`jsx-df5fd3f467cefe6d group flex items-center gap-6 p-6 hover:bg-white/40 transition-all cursor-pointer ${w(e)?"bg-white/60":""}`,children:[(0,t.jsx)("div",{className:`jsx-df5fd3f467cefe6d w-12 h-12 rounded-xl overflow-hidden border-2 shrink-0 transition-transform ${w(e)?"border-[#f8b195] rotate-6":"border-white group-hover:rotate-6"}`,children:e.cover?(0,t.jsx)("img",{src:e.cover,alt:"",className:"jsx-df5fd3f467cefe6d w-full h-full object-cover"}):(0,t.jsx)("div",{className:"jsx-df5fd3f467cefe6d w-full h-full bg-gradient-to-br from-[#f8b195]/20 to-[#f67280]/20 flex items-center justify-center",children:(0,t.jsx)(l.Disc,{className:"w-6 h-6 text-[#f8b195]"})})}),(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d flex items-baseline justify-between mb-0.5",children:[(0,t.jsx)("h5",{className:`jsx-df5fd3f467cefe6d text-lg font-black transition-colors truncate ${w(e)?"text-[#f8b195]":"text-[#4a3728] group-hover:text-[#f8b195]"}`,children:e.title}),(0,t.jsx)("span",{className:"jsx-df5fd3f467cefe6d text-[10px] font-bold text-[#8eb69b] tabular-nums",children:e.date})]}),(0,t.jsx)("p",{className:"jsx-df5fd3f467cefe6d text-[10px] text-[#8eb69b] font-bold truncate opacity-60 italic",children:e.desc})]}),(0,t.jsx)("div",{className:`jsx-df5fd3f467cefe6d w-10 h-10 rounded-full flex items-center justify-center transition-all shadow-sm ${w(e)?"bg-[#f8b195] text-white opacity-100":"bg-white text-[#f8b195] opacity-0 group-hover:opacity-100"}`,children:w(e)?(0,t.jsxs)("div",{className:"jsx-df5fd3f467cefe6d flex gap-0.5 items-end h-3",children:[(0,t.jsx)("span",{className:"jsx-df5fd3f467cefe6d w-1 bg-white animate-[bounce_1s_infinite] h-2"}),(0,t.jsx)("span",{className:"jsx-df5fd3f467cefe6d w-1 bg-white animate-[bounce_1.2s_infinite] h-3"}),(0,t.jsx)("span",{className:"jsx-df5fd3f467cefe6d w-1 bg-white animate-[bounce_0.8s_infinite] h-1.5"})]}):(0,t.jsx)(i.PlayCircle,{size:20,fill:"currentColor",className:"text-white"})})]},r))}),!m&&v.length>5&&(0,t.jsxs)("button",{onClick:()=>x(!0),className:"jsx-df5fd3f467cefe6d w-full p-6 bg-white/40 text-[#8eb69b] font-black text-sm hover:text-[#f8b195] transition-colors flex items-center justify-center gap-2",children:["展开全部 ",v.length," 首存档作品 ",(0,t.jsx)(o.ChevronRight,{size:16})]})]})}),(0,t.jsx)(h,{work:e,onClose:()=>u(null)}),(0,t.jsx)(r.default,{id:"df5fd3f467cefe6d",children:"@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin-slow.jsx-df5fd3f467cefe6d{animation:8s linear infinite spin}"})]})}e.s(["default",()=>h],41614),e.s(["default",()=>x],67945)}]);