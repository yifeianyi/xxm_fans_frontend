{"version":3,"sources":["../../../../app/gallery/components/ImageGrid.tsx","../../../../app/gallery/components/GalleryDetailClient.tsx","../../../../app/gallery/components/ImageViewer.tsx","../../../../app/gallery/components/GalleryGrid.tsx","../../../../app/gallery/components/ChildrenImagesDisplay.tsx","../../../../node_modules/lucide-react/src/icons/arrow-left.ts"],"sourcesContent":["'use client';\n\n/**\n * ImageGrid - 图片网格组件\n * \n * @module app/gallery/components\n * @description 图片网格展示（叶子图集），支持图片、GIF和视频\n */\n\nimport React from 'react';\nimport Image from 'next/image';\nimport { Play } from 'lucide-react';\nimport { GalleryImage } from '@/app/domain/types';\n\ninterface ImageGridProps {\n    images: GalleryImage[];\n    onImageClick: (img: GalleryImage, index: number) => void;\n}\n\nexport default function ImageGrid({ images, onImageClick }: ImageGridProps) {\n    if (images.length === 0) {\n        return (\n            <div className=\"text-center py-20\">\n                <p className=\"text-[#4a3728]/60\">暂无图片</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4\">\n            {images.map((image, index) => (\n                <button\n                    key={image.id}\n                    onClick={() => onImageClick(image, index)}\n                    className=\"group block w-full break-inside-avoid mb-4\"\n                >\n                    <div className=\"relative rounded-xl overflow-hidden bg-[#fef5f0] border border-[#8eb69b]/10\n                                    hover:border-[#f8b195]/50 hover:shadow-lg hover:shadow-[#f8b195]/10\n                                    transition-all duration-300\">\n                        {/* 媒体内容 */}\n                        <div className=\"relative\">\n                            {image.isGif || image.isVideo ? (\n                                // GIF 和视频使用原生 img 标签\n                                // eslint-disable-next-line @next/next/no-img-element\n                                <img\n                                    src={image.thumbnailUrl || image.url}\n                                    alt={image.title || image.filename}\n                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                    loading=\"lazy\"\n                                />\n                            ) : (\n                                // 普通图片使用 Next.js Image\n                                <Image\n                                    src={image.thumbnailUrl || image.url}\n                                    alt={image.title || image.filename}\n                                    width={400}\n                                    height={300}\n                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                    sizes=\"(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw\"\n                                />\n                            )}\n                            \n                            {/* 视频播放图标遮罩 */}\n                            {image.isVideo && (\n                                <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors\">\n                                    <div className=\"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                                        <Play className=\"w-6 h-6 text-[#f67280] fill-[#f67280] ml-0.5\" />\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                        \n                        {/* 悬停遮罩 */}\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\n                                        opacity-0 group-hover:opacity-100 transition-opacity duration-300\n                                        flex items-end p-3\">\n                            <span className=\"text-white text-sm font-medium line-clamp-1\">\n                                {image.title || image.filename}\n                            </span>\n                        </div>\n\n                        {/* GIF/Video 标签 */}\n                        {(image.isGif || image.isVideo) && (\n                            <div className=\"absolute top-2 right-2 px-2 py-0.5 bg-[#f67280] rounded text-xs text-white font-medium\">\n                                {image.isGif ? 'GIF' : '视频'}\n                            </div>\n                        )}\n                    </div>\n                </button>\n            ))}\n        </div>\n    );\n}\n","'use client';\n\n/**\n * GalleryDetailClient - 图集详情页客户端组件\n * \n * @module app/gallery/components\n * @description 处理特定图集的详情展示\n * \n * 显示逻辑：\n * 1. 叶子节点：直接显示自己的图片\n * 2. 倒数第二层父节点（子节点都是叶子节点）：聚合显示所有子节点的图片\n * 3. 中间层级父节点：显示子图集网格列表\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Sparkles, Star, Heart, Camera, Sun, ArrowLeft } from 'lucide-react';\nimport { PageDecorations } from '@/app/presentation/components/common/PageDecorations';\nimport { galleryRepository } from '@/app/infrastructure/repositories';\nimport { Gallery, GalleryImage } from '@/app/domain/types';\nimport ImageGrid from './ImageGrid';\nimport ImageViewer from './ImageViewer';\nimport GalleryGrid from './GalleryGrid';\nimport ChildrenImagesDisplay from './ChildrenImagesDisplay';\n\ninterface GalleryDetailClientProps {\n    galleryId: string;\n}\n\nexport default function GalleryDetailClient({ galleryId }: GalleryDetailClientProps) {\n    const router = useRouter();\n    const [gallery, setGallery] = useState<Gallery | null>(null);\n    const [images, setImages] = useState<GalleryImage[]>([]);\n    const [children, setChildren] = useState<Gallery[]>([]);\n    const [childrenImagesGroups, setChildrenImagesGroups] = useState<{ gallery: Gallery; images: GalleryImage[] }[]>([]);\n    const [allChildrenImages, setAllChildrenImages] = useState<GalleryImage[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [lightboxImage, setLightboxImage] = useState<GalleryImage | null>(null);\n    const [currentImageIndex, setCurrentImageIndex] = useState(0);\n    const [displayMode, setDisplayMode] = useState<'images' | 'children' | 'grid'>('grid');\n\n    useEffect(() => {\n        const loadGallery = async () => {\n            setLoading(true);\n            try {\n                // 加载图集详情\n                const galleryData = await galleryRepository.getGalleryById(galleryId);\n                setGallery(galleryData);\n\n                // 判断是否是叶子节点\n                const isLeaf = !galleryData.children || galleryData.children.length === 0;\n\n                if (isLeaf) {\n                    // 叶子节点：直接加载自己的图片\n                    const imagesResult = await galleryRepository.getGalleryImages(galleryId);\n                    setImages(imagesResult.images);\n                    setDisplayMode('images');\n                } else {\n                    // 父节点：检查子节点是否都是叶子节点\n                    const childGalleries = galleryData.children || [];\n                    setChildren(childGalleries);\n                    \n                    // 判断是否是倒数第二层（所有子节点都是叶子节点）\n                    // 注意：后端返回的子节点数据中只有 isLeaf 字段，没有 children 字段\n                    const allChildrenAreLeaves = childGalleries.every(child => child.isLeaf);\n                    \n                    if (allChildrenAreLeaves) {\n                        // 倒数第二层：聚合显示所有子节点图片\n                        try {\n                            // @ts-ignore - getChildrenImages 是扩展方法\n                            const childrenData = await galleryRepository.getChildrenImages(galleryId);\n                            const groups = childrenData.children || [];\n                            setChildrenImagesGroups(groups);\n                            \n                            // 聚合所有子图集图片\n                            const allImages = groups.flatMap(\n                                (group: { gallery: Gallery; images: GalleryImage[] }) => group.images\n                            );\n                            setAllChildrenImages(allImages);\n                            setDisplayMode('children');\n                        } catch (error) {\n                            console.error('Failed to load children images:', error);\n                            setDisplayMode('grid');\n                        }\n                    } else {\n                        // 中间层级：显示子图集网格\n                        setDisplayMode('grid');\n                    }\n                }\n            } catch (error) {\n                console.error('Failed to load gallery:', error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        loadGallery();\n    }, [galleryId]);\n\n    const handleImageClick = (img: GalleryImage, index: number, allImages?: GalleryImage[]) => {\n        setLightboxImage(img);\n        setCurrentImageIndex(index);\n        if (allImages && allImages.length > 0) {\n            setAllChildrenImages(allImages);\n        }\n    };\n\n    const handlePreviousImage = () => {\n        const currentImages = allChildrenImages.length > 0 ? allChildrenImages : images;\n        if (currentImageIndex > 0) {\n            setCurrentImageIndex(currentImageIndex - 1);\n            setLightboxImage(currentImages[currentImageIndex - 1]);\n        }\n    };\n\n    const handleNextImage = () => {\n        const currentImages = allChildrenImages.length > 0 ? allChildrenImages : images;\n        if (currentImageIndex < currentImages.length - 1) {\n            setCurrentImageIndex(currentImageIndex + 1);\n            setLightboxImage(currentImages[currentImageIndex + 1]);\n        }\n    };\n\n    const handleGalleryClick = (childGallery: Gallery) => {\n        router.push(`/gallery/${childGallery.id}`);\n    };\n\n    // 计算总图片数\n    const totalImageCount = displayMode === 'children' \n        ? allChildrenImages.length \n        : displayMode === 'images' \n            ? images.length \n            : gallery?.imageCount || 0;\n\n    return (\n        <>\n            {/* 页面装饰 - 图集主题 */}\n            <PageDecorations theme=\"gallery\" />\n\n            {/* 额外装饰 */}\n            <div className=\"fixed inset-0 pointer-events-none overflow-hidden -z-5\">\n                <div className=\"absolute top-20 left-10 animate-bounce\" style={{ animationDuration: '3s' }}>\n                    <Star className=\"w-6 h-6 text-yellow-400/40\" />\n                </div>\n                <div className=\"absolute top-32 left-24 animate-pulse\" style={{ animationDelay: '0.4s' }}>\n                    <Sparkles className=\"w-5 h-5 text-[#f8b195]/40\" />\n                </div>\n                <div className=\"absolute top-24 right-16 animate-spin\" style={{ animationDuration: '4s' }}>\n                    <Sun className=\"w-8 h-8 text-orange-300/30\" />\n                </div>\n                <div className=\"absolute top-40 right-8 animate-pulse\" style={{ animationDelay: '0.6s' }}>\n                    <Heart className=\"w-5 h-5 text-[#f67280]/30 fill-[#f67280]/30\" />\n                </div>\n                <div className=\"absolute bottom-40 right-16 animate-bounce\" style={{ animationDuration: '3.5s', animationDelay: '0.5s' }}>\n                    <Camera className=\"w-6 h-6 text-[#8eb69b]/30\" />\n                </div>\n                <div className=\"absolute bottom-32 left-20 animate-pulse\" style={{ animationDelay: '0.8s' }}>\n                    <Sparkles className=\"w-5 h-5 text-pink-300/30\" />\n                </div>\n            </div>\n\n            <div className=\"min-h-screen bg-[#fef5f0] p-6\">\n                {/* 返回按钮 */}\n                <div className=\"max-w-7xl mx-auto mb-6\">\n                    <button\n                        onClick={() => router.push('/gallery')}\n                        className=\"flex items-center gap-2 text-[#8eb69b] hover:text-[#f8b195] transition-colors font-bold\"\n                    >\n                        <ArrowLeft size={20} />\n                        <span>返回图集</span>\n                    </button>\n                </div>\n\n                {/* 图集标题 */}\n                {gallery && (\n                    <div className=\"max-w-7xl mx-auto mb-8\">\n                        <h1 className=\"text-3xl md:text-4xl font-black text-[#4a3728] mb-2\">\n                            {gallery.title}\n                        </h1>\n                        {gallery.description && (\n                            <p className=\"text-[#8eb69b] font-bold\">{gallery.description}</p>\n                        )}\n                        <p className=\"text-sm text-[#8eb69b]/70 mt-2\">\n                            共 {totalImageCount} 张图片\n                            {displayMode === 'children' && children.length > 0 && (\n                                <span className=\"ml-2\">（来自 {children.length} 个子图集）</span>\n                            )}\n                        </p>\n                    </div>\n                )}\n\n                {/* 加载状态 */}\n                {loading && (\n                    <div className=\"py-48 flex flex-col items-center gap-6\">\n                        <div className=\"w-16 h-16 border-8 border-[#f8b195]/20 border-t-[#f8b195] rounded-full animate-spin\"></div>\n                        <span className=\"text-[#8eb69b] font-black tracking-widest uppercase text-xs\">正在加载...</span>\n                    </div>\n                )}\n\n                {/* 图片网格 - 叶子节点 */}\n                {!loading && displayMode === 'images' && images.length > 0 && (\n                    <div className=\"max-w-7xl mx-auto\">\n                        <ImageGrid images={images} onImageClick={(img, idx) => handleImageClick(img, idx, images)} />\n                    </div>\n                )}\n\n                {/* 子图集图片聚合 - 倒数第二层父节点 */}\n                {!loading && displayMode === 'children' && childrenImagesGroups.length > 0 && (\n                    <div className=\"max-w-7xl mx-auto\">\n                        <ChildrenImagesDisplay\n                            childrenGroups={childrenImagesGroups}\n                            allChildrenImages={allChildrenImages}\n                            onImageClick={handleImageClick}\n                        />\n                    </div>\n                )}\n\n                {/* 子图集网格 - 中间层级父节点 */}\n                {!loading && displayMode === 'grid' && children.length > 0 && (\n                    <div className=\"max-w-7xl mx-auto\">\n                        <GalleryGrid galleries={children} onGalleryClick={handleGalleryClick} />\n                    </div>\n                )}\n\n                {/* 空状态 */}\n                {!loading && displayMode === 'images' && images.length === 0 && (\n                    <div className=\"py-48 text-center\">\n                        <p className=\"text-[#8eb69b] font-bold\">暂无图片</p>\n                    </div>\n                )}\n            </div>\n\n            {/* 图片查看器 */}\n            {lightboxImage && (\n                <ImageViewer\n                    images={allChildrenImages.length > 0 ? allChildrenImages : images}\n                    currentIndex={currentImageIndex}\n                    onClose={() => setLightboxImage(null)}\n                    onPrevious={handlePreviousImage}\n                    onNext={handleNextImage}\n                    onIndexChange={setCurrentImageIndex}\n                    onSelectImage={setLightboxImage}\n                />\n            )}\n        </>\n    );\n}\n","'use client';\n\n/**\n * ImageViewer - 图片/视频查看器组件\n * \n * @module app/gallery/components\n * @description Lightbox 图片/视频/GIF查看器\n */\n\nimport React, { useEffect, useCallback, useRef, useState } from 'react';\nimport Image from 'next/image';\nimport { X, ChevronLeft, ChevronRight, Play, Pause, Volume2, VolumeX } from 'lucide-react';\nimport { GalleryImage } from '@/app/domain/types';\n\ninterface ImageViewerProps {\n    images: GalleryImage[];\n    currentIndex: number;\n    onClose: () => void;\n    onPrevious: () => void;\n    onNext: () => void;\n    onIndexChange: (index: number) => void;\n    onSelectImage: (image: GalleryImage) => void;\n}\n\nexport default function ImageViewer({\n    images,\n    currentIndex,\n    onClose,\n    onPrevious,\n    onNext,\n    onIndexChange,\n}: ImageViewerProps) {\n    const currentImage = images[currentIndex];\n    const videoRef = useRef<HTMLVideoElement>(null);\n    const [isPlaying, setIsPlaying] = useState(true);\n    const [isMuted, setIsMuted] = useState(true);\n\n    // 键盘导航\n    const handleKeyDown = useCallback((e: KeyboardEvent) => {\n        switch (e.key) {\n            case 'Escape':\n                onClose();\n                break;\n            case 'ArrowLeft':\n                onPrevious();\n                break;\n            case 'ArrowRight':\n                onNext();\n                break;\n            case ' ':\n                e.preventDefault();\n                if (currentImage?.isVideo && videoRef.current) {\n                    if (videoRef.current.paused) {\n                        videoRef.current.play();\n                        setIsPlaying(true);\n                    } else {\n                        videoRef.current.pause();\n                        setIsPlaying(false);\n                    }\n                }\n                break;\n        }\n    }, [onClose, onPrevious, onNext, currentImage]);\n\n    useEffect(() => {\n        document.addEventListener('keydown', handleKeyDown);\n        document.body.style.overflow = 'hidden';\n        \n        return () => {\n            document.removeEventListener('keydown', handleKeyDown);\n            document.body.style.overflow = '';\n        };\n    }, [handleKeyDown]);\n\n    // 切换图片时重置视频状态\n    useEffect(() => {\n        setIsPlaying(true);\n        setIsMuted(true);\n    }, [currentIndex]);\n\n    if (!currentImage) return null;\n\n    const isVideo = currentImage.isVideo;\n    const isGif = currentImage.isGif;\n\n    const togglePlay = () => {\n        if (videoRef.current) {\n            if (videoRef.current.paused) {\n                videoRef.current.play();\n                setIsPlaying(true);\n            } else {\n                videoRef.current.pause();\n                setIsPlaying(false);\n            }\n        }\n    };\n\n    const toggleMute = () => {\n        if (videoRef.current) {\n            videoRef.current.muted = !videoRef.current.muted;\n            setIsMuted(!isMuted);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 bg-black/95 flex flex-col\">\n            {/* 顶部工具栏 */}\n            <div className=\"flex items-center justify-between px-4 py-3 flex-shrink-0\">\n                {/* 媒体计数 */}\n                <div className=\"px-3 py-1 rounded-full bg-white/10 text-white text-sm\">\n                    {currentIndex + 1} / {images.length}\n                    {isVideo && ' · 视频'}\n                    {isGif && ' · GIF'}\n                </div>\n\n                {/* 关闭按钮 */}\n                <button\n                    onClick={onClose}\n                    className=\"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n                    aria-label=\"关闭\"\n                >\n                    <X className=\"w-6 h-6 text-white\" />\n                </button>\n            </div>\n\n            {/* 主内容区域 */}\n            <div className=\"flex-1 flex items-center justify-center min-h-0 overflow-hidden\">\n                {/* 按钮+内容 在同一个 flex 容器中 */}\n                <div className=\"flex items-center justify-center\">\n                    {/* 左侧切换按钮 - 紧贴内容 */}\n                    {images.length > 1 && (\n                        <button\n                            onClick={onPrevious}\n                            className=\"flex-shrink-0 p-2 md:p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors mr-2\"\n                            aria-label=\"上一张\"\n                        >\n                            <ChevronLeft className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\n                        </button>\n                    )}\n\n                    {/* 媒体内容 */}\n                    <div className=\"relative\">\n                        {isVideo ? (\n                            // 视频播放\n                            <div className=\"flex flex-col items-center\">\n                                <video\n                                    ref={videoRef}\n                                    src={currentImage.url}\n                                    className=\"max-w-full max-h-[calc(100vh-180px)] object-contain\"\n                                    autoPlay\n                                    loop\n                                    muted\n                                    playsInline\n                                    onClick={togglePlay}\n                                />\n                                {/* 视频控制栏 */}\n                                <div className=\"mt-3 flex items-center gap-4 px-4 py-2 rounded-full bg-black/60 backdrop-blur-sm\">\n                                    <button\n                                        onClick={togglePlay}\n                                        className=\"p-2 rounded-full hover:bg-white/20 transition-colors\"\n                                        aria-label={isPlaying ? '暂停' : '播放'}\n                                    >\n                                        {isPlaying ? (\n                                            <Pause className=\"w-5 h-5 text-white\" />\n                                        ) : (\n                                            <Play className=\"w-5 h-5 text-white\" />\n                                        )}\n                                    </button>\n                                    <button\n                                        onClick={toggleMute}\n                                        className=\"p-2 rounded-full hover:bg-white/20 transition-colors\"\n                                        aria-label={isMuted ? '取消静音' : '静音'}\n                                    >\n                                        {isMuted ? (\n                                            <VolumeX className=\"w-5 h-5 text-white\" />\n                                        ) : (\n                                            <Volume2 className=\"w-5 h-5 text-white\" />\n                                        )}\n                                    </button>\n                                    <span className=\"text-white text-sm hidden sm:inline\">\n                                        空格键播放/暂停\n                                    </span>\n                                </div>\n                            </div>\n                        ) : isGif ? (\n                            // GIF 使用原生 img 标签以支持动画\n                            // eslint-disable-next-line @next/next/no-img-element\n                            <img\n                                src={currentImage.url}\n                                alt={currentImage.title || currentImage.filename}\n                                className=\"max-w-full max-h-[calc(100vh-140px)] object-contain\"\n                            />\n                        ) : (\n                            // 普通图片使用 Next.js Image\n                            // eslint-disable-next-line @next/next/no-img-element\n                            <img\n                                src={currentImage.url}\n                                alt={currentImage.title || currentImage.filename}\n                                className=\"max-w-full max-h-[calc(100vh-140px)] object-contain\"\n                            />\n                        )}\n                    </div>\n\n                    {/* 右侧切换按钮 - 紧贴内容 */}\n                    {images.length > 1 && (\n                        <button\n                            onClick={onNext}\n                            className=\"flex-shrink-0 p-2 md:p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors ml-2\"\n                            aria-label=\"下一张\"\n                        >\n                            <ChevronRight className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\n                        </button>\n                    )}\n                </div>\n            </div>\n\n            {/* 底部缩略图导航 */}\n            {images.length > 1 && (\n                <div className=\"px-4 py-3 flex-shrink-0\">\n                    <div className=\"flex gap-2 overflow-x-auto max-w-full mx-auto p-2 rounded-xl bg-black/50 backdrop-blur-sm justify-center\">\n                        {images.map((img, index) => (\n                            <button\n                                key={img.id}\n                                onClick={() => onIndexChange(index)}\n                                className={`relative flex-shrink-0 w-14 h-14 md:w-16 md:h-16 rounded-lg overflow-hidden border-2 transition-all ${\n                                    index === currentIndex\n                                        ? 'border-[#f8b195] scale-110'\n                                        : 'border-transparent opacity-60 hover:opacity-100'\n                                }`}\n                            >\n                                {/* 缩略图 */}\n                                {/* eslint-disable-next-line @next/next/no-img-element */}\n                                <img\n                                    src={img.thumbnailUrl || img.url}\n                                    alt={img.title || img.filename}\n                                    className=\"w-full h-full object-cover\"\n                                />\n                                {/* 视频/GIF 标识 */}\n                                {(img.isVideo || img.isGif) && (\n                                    <div className=\"absolute top-0.5 right-0.5 px-1 py-0.5 bg-[#f67280] rounded text-[8px] text-white font-medium leading-none\">\n                                        {img.isVideo ? '视频' : 'GIF'}\n                                    </div>\n                                )}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n","'use client';\n\n/**\n * GalleryGrid - 图集网格组件\n * \n * @module app/gallery/components\n * @description 图集卡片网格展示\n */\n\nimport React from 'react';\nimport Image from 'next/image';\nimport { Folder, ImageIcon } from 'lucide-react';\nimport { Gallery } from '@/app/domain/types';\n\ninterface GalleryGridProps {\n    galleries: Gallery[];\n    onGalleryClick: (gallery: Gallery) => void;\n}\n\nexport default function GalleryGrid({ galleries, onGalleryClick }: GalleryGridProps) {\n    if (galleries.length === 0) {\n        return (\n            <div className=\"text-center py-20\">\n                <p className=\"text-[#4a3728]/60\">暂无图集</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {galleries.map((gallery) => (\n                <button\n                    key={gallery.id}\n                    onClick={() => onGalleryClick(gallery)}\n                    className=\"group relative bg-white rounded-2xl overflow-hidden shadow-sm\n                               border border-[#8eb69b]/10 hover:border-[#f8b195]/50\n                               hover:shadow-lg hover:shadow-[#f8b195]/10\n                               transition-all duration-300 text-left\"\n                >\n                    {/* 封面图 */}\n                    <div className=\"aspect-[4/3] relative bg-gradient-to-br from-[#fef5f0] to-[#f8b195]/10\">\n                        {gallery.coverUrl ? (\n                            <Image\n                                src={gallery.coverThumbnailUrl || gallery.coverUrl}\n                                alt={gallery.title}\n                                fill\n                                className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n                                sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw\"\n                            />\n                        ) : (\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\n                                <Folder className=\"w-16 h-16 text-[#8eb69b]/30\" />\n                            </div>\n                        )}\n                        \n                        {/* 图片数量标签 */}\n                        <div className=\"absolute top-3 right-3 px-2 py-1 bg-black/50 backdrop-blur-sm rounded-full flex items-center gap-1\">\n                            <ImageIcon className=\"w-3 h-3 text-white\" />\n                            <span className=\"text-xs text-white font-medium\">{gallery.imageCount}</span>\n                        </div>\n                    </div>\n\n                    {/* 信息 */}\n                    <div className=\"p-4\">\n                        <h3 className=\"font-bold text-[#4a3728] group-hover:text-[#f8b195] transition-colors line-clamp-1\">\n                            {gallery.title}\n                        </h3>\n                        {gallery.description && (\n                            <p className=\"mt-1 text-sm text-[#4a3728]/60 line-clamp-2\">\n                                {gallery.description}\n                            </p>\n                        )}\n                    </div>\n                </button>\n            ))}\n        </div>\n    );\n}\n","'use client';\n\n/**\n * ChildrenImagesDisplay - 子图集图片展示组件\n * \n * @module app/gallery/components\n * @description 父图集下的子图集图片聚合展示，支持图片、GIF和视频\n */\n\nimport React from 'react';\nimport Image from 'next/image';\nimport { Play } from 'lucide-react';\nimport { Gallery, GalleryImage } from '@/app/domain/types';\n\ninterface ChildrenImagesDisplayProps {\n    childrenGroups: { gallery: Gallery; images: GalleryImage[] }[];\n    allChildrenImages: GalleryImage[];\n    onImageClick: (img: GalleryImage, index: number, allImages?: GalleryImage[]) => void;\n}\n\nexport default function ChildrenImagesDisplay({\n    childrenGroups,\n    allChildrenImages,\n    onImageClick,\n}: ChildrenImagesDisplayProps) {\n    if (childrenGroups.length === 0) {\n        return (\n            <div className=\"text-center py-20\">\n                <p className=\"text-[#4a3728]/60\">暂无图片</p>\n            </div>\n        );\n    }\n\n    // 使用 allChildrenImages 计算全局索引（确保和 ImageViewer 使用的列表一致）\n\n    return (\n        <div className=\"space-y-12\">\n            {childrenGroups.map((group) => (\n                <section key={group.gallery.id} className=\"space-y-4\">\n                    {/* 子图集标题 */}\n                    <div className=\"flex items-center gap-3\">\n                        <h3 className=\"text-lg font-bold text-[#4a3728]\">{group.gallery.title}</h3>\n                        <span className=\"px-2 py-0.5 bg-[#8eb69b]/20 rounded-full text-xs text-[#8eb69b] font-medium\">\n                            {group.images.length} 张\n                        </span>\n                    </div>\n\n                    {/* 图片网格 */}\n                    <div className=\"columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4\">\n                        {group.images.map((image) => {\n                            // 计算该图片在所有图片中的索引（使用 allChildrenImages 确保一致）\n                            const globalIndex = allChildrenImages.findIndex(img => img.id === image.id);\n                            \n                            return (\n                                <button\n                                    key={image.id}\n                                    onClick={() => onImageClick(image, globalIndex, allChildrenImages)}\n                                    className=\"group block w-full break-inside-avoid mb-4\"\n                                >\n                                    <div className=\"relative rounded-xl overflow-hidden bg-[#fef5f0] border border-[#8eb69b]/10\n                                                    hover:border-[#f8b195]/50 hover:shadow-lg hover:shadow-[#f8b195]/10\n                                                    transition-all duration-300\">\n                                        {/* 媒体内容 */}\n                                        <div className=\"relative\">\n                                            {image.isGif || image.isVideo ? (\n                                                // GIF 和视频使用原生 img 标签\n                                                // eslint-disable-next-line @next/next/no-img-element\n                                                <img\n                                                    src={image.thumbnailUrl || image.url}\n                                                    alt={image.title || image.filename}\n                                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                                    loading=\"lazy\"\n                                                />\n                                            ) : (\n                                                // 普通图片使用 Next.js Image\n                                                <Image\n                                                    src={image.thumbnailUrl || image.url}\n                                                    alt={image.title || image.filename}\n                                                    width={400}\n                                                    height={300}\n                                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                                    sizes=\"(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw\"\n                                                />\n                                            )}\n                                            \n                                            {/* 视频播放图标遮罩 */}\n                                            {image.isVideo && (\n                                                <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors\">\n                                                    <div className=\"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                                                        <Play className=\"w-6 h-6 text-[#f67280] fill-[#f67280] ml-0.5\" />\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </div>\n                                        \n                                        {/* 悬停遮罩 */}\n                                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\n                                                        opacity-0 group-hover:opacity-100 transition-opacity duration-300\n                                                        flex items-end p-3\">\n                                            <span className=\"text-white text-sm font-medium line-clamp-1\">\n                                                {image.title || image.filename}\n                                            </span>\n                                        </div>\n\n                                        {/* GIF/Video 标签 */}\n                                        {(image.isGif || image.isVideo) && (\n                                            <div className=\"absolute top-2 right-2 px-2 py-0.5 bg-[#f67280] rounded text-xs text-white font-medium\">\n                                                {image.isGif ? 'GIF' : '视频'}\n                                            </div>\n                                        )}\n                                    </div>\n                                </button>\n                            );\n                        })}\n                    </div>\n                </section>\n            ))}\n        </div>\n    );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n"],"names":[],"mappings":"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","ignoreList":[5]}