{"version":3,"sources":["../../../../app/albums/components/GalleryPageClient.tsx","../../../../app/albums/hooks/useGalleryData.ts","../../../../app/albums/components/GallerySidebar.tsx","../../../../app/albums/components/GalleryHeader.tsx","../../../../app/albums/components/GalleryGrid.tsx","../../../../app/albums/components/ImageGrid.tsx","../../../../app/albums/components/ImageViewer.tsx","../../../../app/albums/components/ChildrenImagesDisplay.tsx","../../../../app/albums/components/WelcomeBanner.tsx"],"sourcesContent":["'use client';\n\n/**\n * GalleryPageClient - 图集页面客户端组件\n * \n * @module app/albums/components\n * @description 处理图集页面的所有交互逻辑\n */\n\nimport React from 'react';\nimport { Sparkles, Star, Heart, Camera, Sun } from 'lucide-react';\nimport { PageDecorations } from '@/app/presentation/components/common/PageDecorations';\nimport { useGalleryData } from '../hooks/useGalleryData';\nimport GallerySidebar from './GallerySidebar';\nimport GalleryHeader from './GalleryHeader';\nimport GalleryGrid from './GalleryGrid';\nimport ImageGrid from './ImageGrid';\nimport ImageViewer from './ImageViewer';\nimport ChildrenImagesDisplay from './ChildrenImagesDisplay';\nimport WelcomeBanner from './WelcomeBanner';\n\nexport default function GalleryPageClient() {\n    const {\n        galleryTree,\n        currentGallery,\n        images,\n        breadcrumbs,\n        loading,\n        lightboxImage,\n        currentImageIndex,\n        sidebarOpen,\n        expandedNodes,\n        searchTerm,\n        searchResults,\n        showSearchResults,\n        childrenImagesGroups,\n        allChildrenImages,\n        handleGalleryClick,\n        handleBreadcrumbClick,\n        handleImageClick,\n        toggleExpand,\n        handlePreviousImage,\n        handleNextImage,\n        setLightboxImage,\n        setSidebarOpen,\n        setSearchTerm,\n        setCurrentImageIndex,\n    } = useGalleryData();\n\n    const isLeafGallery = (gallery: typeof currentGallery): boolean => {\n        if (!gallery) return false;\n        return !gallery.children || gallery.children.length === 0;\n    };\n\n    return (\n        <>\n            {/* 页面装饰 - 图集主题 */}\n            <PageDecorations theme=\"gallery\" />\n\n            {/* 额外装饰 - 与原项目一致 */}\n            <div className=\"fixed inset-0 pointer-events-none overflow-hidden -z-5\">\n                <div className=\"absolute top-20 left-10 animate-bounce\" style={{ animationDuration: '3s' }}>\n                    <Star className=\"w-6 h-6 text-yellow-400/40\" />\n                </div>\n                <div className=\"absolute top-32 left-24 animate-pulse\" style={{ animationDelay: '0.4s' }}>\n                    <Sparkles className=\"w-5 h-5 text-[#f8b195]/40\" />\n                </div>\n                <div className=\"absolute top-24 right-16 animate-spin\" style={{ animationDuration: '4s' }}>\n                    <Sun className=\"w-8 h-8 text-orange-300/30\" />\n                </div>\n                <div className=\"absolute top-40 right-8 animate-pulse\" style={{ animationDelay: '0.6s' }}>\n                    <Heart className=\"w-5 h-5 text-[#f67280]/30 fill-[#f67280]/30\" />\n                </div>\n                <div className=\"absolute bottom-40 right-16 animate-bounce\" style={{ animationDuration: '3.5s', animationDelay: '0.5s' }}>\n                    <Camera className=\"w-6 h-6 text-[#8eb69b]/30\" />\n                </div>\n                <div className=\"absolute bottom-32 left-20 animate-pulse\" style={{ animationDelay: '0.8s' }}>\n                    <Sparkles className=\"w-5 h-5 text-pink-300/30\" />\n                </div>\n            </div>\n\n            <div className=\"flex h-screen bg-[#fef5f0]\">\n                <GallerySidebar\n                    galleryTree={galleryTree}\n                    currentGallery={currentGallery}\n                    expandedNodes={expandedNodes}\n                    onToggle={toggleExpand}\n                    onSelect={handleGalleryClick}\n                    isOpen={sidebarOpen}\n                    onClose={() => setSidebarOpen(false)}\n                />\n\n                <main className=\"flex-1 flex flex-col min-w-0\">\n                    <GalleryHeader\n                        breadcrumbs={breadcrumbs}\n                        galleryTree={galleryTree}\n                        currentGallery={currentGallery}\n                        searchTerm={searchTerm}\n                        searchResults={searchResults}\n                        showSearchResults={showSearchResults}\n                        sidebarOpen={sidebarOpen}\n                        onSidebarToggle={() => setSidebarOpen(!sidebarOpen)}\n                        onBreadcrumbClick={handleBreadcrumbClick}\n                        onSearchChange={setSearchTerm}\n                        onSearchResultClick={(gallery) => {\n                            handleGalleryClick(gallery);\n                            setSearchTerm('');\n                        }}\n                        onQuickSelect={handleGalleryClick}\n                    />\n\n                    <div className=\"flex-1 overflow-y-auto p-6\">\n                        {!currentGallery && <WelcomeBanner />}\n\n                        {loading && (\n                            <div className=\"py-48 flex flex-col items-center gap-6\">\n                                <div className=\"w-16 h-16 border-8 border-[#f8b195]/20 border-t-[#f8b195] rounded-full animate-spin\"></div>\n                                <span className=\"text-[#8eb69b] font-black tracking-widest uppercase text-xs\">正在加载...</span>\n                            </div>\n                        )}\n\n                        {!loading && currentGallery && isLeafGallery(currentGallery) && images.length > 0 && (\n                            <ImageGrid images={images} onImageClick={handleImageClick} />\n                        )}\n\n                        {!loading && currentGallery && !isLeafGallery(currentGallery) && childrenImagesGroups.length > 0 && (\n                            <ChildrenImagesDisplay\n                                childrenGroups={childrenImagesGroups}\n                                allChildrenImages={allChildrenImages}\n                                onImageClick={handleImageClick}\n                            />\n                        )}\n\n                        {!loading && currentGallery && !isLeafGallery(currentGallery) && childrenImagesGroups.length === 0 && currentGallery?.children && (\n                            <GalleryGrid galleries={currentGallery.children} onGalleryClick={handleGalleryClick} />\n                        )}\n\n                        {!loading && !currentGallery && (\n                            <GalleryGrid galleries={galleryTree} onGalleryClick={handleGalleryClick} />\n                        )}\n                    </div>\n                </main>\n\n                {lightboxImage && (\n                    <ImageViewer\n                        images={images}\n                        currentIndex={currentImageIndex}\n                        onClose={() => setLightboxImage(null)}\n                        onPrevious={handlePreviousImage}\n                        onNext={handleNextImage}\n                        onIndexChange={setCurrentImageIndex}\n                        onSelectImage={setLightboxImage}\n                    />\n                )}\n            </div>\n        </>\n    );\n}\n","'use client';\n\n/**\n * useGalleryData - 图集数据 Hook\n * \n * @module app/gallery/hooks\n * @description 管理图集数据的状态和操作\n */\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { galleryRepository } from '@/app/infrastructure/repositories';\nimport { Gallery, GalleryImage, Breadcrumb } from '@/app/domain/types';\n\ninterface UseGalleryDataReturn {\n    galleryTree: Gallery[];\n    currentGallery: Gallery | null;\n    images: GalleryImage[];\n    breadcrumbs: Breadcrumb[];\n    loading: boolean;\n    lightboxImage: GalleryImage | null;\n    currentImageIndex: number;\n    sidebarOpen: boolean;\n    expandedNodes: Set<string>;\n    searchTerm: string;\n    searchResults: Gallery[];\n    showSearchResults: boolean;\n    childrenImagesGroups: { gallery: Gallery; images: GalleryImage[] }[];\n    allChildrenImages: GalleryImage[];\n    loadGalleryTree: () => Promise<void>;\n    handleGalleryClick: (gallery: Gallery) => Promise<void>;\n    handleBreadcrumbClick: (breadcrumb: Breadcrumb) => void;\n    handleImageClick: (img: GalleryImage, index: number, allImages?: GalleryImage[]) => void;\n    toggleExpand: (galleryId: string) => void;\n    handlePreviousImage: () => void;\n    handleNextImage: () => void;\n    setLightboxImage: (image: GalleryImage | null) => void;\n    setSidebarOpen: (open: boolean) => void;\n    setSearchTerm: (term: string) => void;\n    setCurrentImageIndex: (index: number) => void;\n}\n\nexport function useGalleryData(): UseGalleryDataReturn {\n    const params = useParams();\n    const router = useRouter();\n    const galleryId = params?.galleryId as string | undefined;\n\n    const [galleryTree, setGalleryTree] = useState<Gallery[]>([]);\n    const [currentGallery, setCurrentGallery] = useState<Gallery | null>(null);\n    const [images, setImages] = useState<GalleryImage[]>([]);\n    const [breadcrumbs, setBreadcrumbs] = useState<Breadcrumb[]>([]);\n    const [loading, setLoading] = useState(false);\n    const [lightboxImage, setLightboxImage] = useState<GalleryImage | null>(null);\n    const [currentImageIndex, setCurrentImageIndex] = useState<number>(0);\n    const [sidebarOpen, setSidebarOpen] = useState(false);\n    const [expandedNodes, setExpandedNodes] = useState<Set<string>>(new Set());\n    const [searchTerm, setSearchTerm] = useState('');\n    const [searchResults, setSearchResults] = useState<Gallery[]>([]);\n    const [showSearchResults, setShowSearchResults] = useState(false);\n    const [childrenImagesGroups, setChildrenImagesGroups] = useState<{ gallery: Gallery; images: GalleryImage[] }[]>([]);\n    const [allChildrenImages, setAllChildrenImages] = useState<GalleryImage[]>([]);\n\n    const hasLoadedRef = useRef(false);\n    const loadingRef = useRef<string | null>(null);\n    const initialGalleryLoadedRef = useRef(false);\n\n    const loadGalleryTree = useCallback(async () => {\n        if (galleryTree.length > 0) return;\n        setLoading(true);\n        try {\n            const data = await galleryRepository.getGalleries();\n            setGalleryTree(data);\n        } catch (error) {\n            console.error('Failed to load gallery tree:', error);\n        } finally {\n            setLoading(false);\n        }\n    }, [galleryTree.length]);\n\n    const isLeafGallery = useCallback((gallery: Gallery): boolean => {\n        return !gallery.children || gallery.children.length === 0;\n    }, []);\n\n    const loadImages = useCallback(async (galleryId: string) => {\n        if (loadingRef.current === galleryId) return;\n        loadingRef.current = galleryId;\n        setLoading(true);\n\n        try {\n            const result = await galleryRepository.getGalleryImages(galleryId);\n            setImages(result.images);\n            setCurrentImageIndex(0);\n        } catch (error) {\n            console.error('Failed to load images:', error);\n            setImages([]);\n        } finally {\n            setLoading(false);\n            loadingRef.current = null;\n        }\n    }, []);\n\n    const loadChildrenImages = useCallback(async (galleryId: string) => {\n        if (loadingRef.current === galleryId) return;\n        loadingRef.current = galleryId;\n        setLoading(true);\n\n        try {\n            // @ts-ignore - getChildrenImages 是 GalleryRepository 的扩展方法\n            const result = await galleryRepository.getChildrenImages(galleryId);\n            setChildrenImagesGroups(result.children);\n            const allImages = result.children.flatMap((group: { images: GalleryImage[] }) => group.images);\n            setAllChildrenImages(allImages);\n        } catch (error) {\n            console.error('Failed to load children images:', error);\n            setChildrenImagesGroups([]);\n            setAllChildrenImages([]);\n        } finally {\n            setLoading(false);\n            loadingRef.current = null;\n        }\n    }, []);\n\n    const handleGalleryClick = useCallback(async (gallery: Gallery) => {\n        if (currentGallery?.id === gallery.id) return;\n\n        // 更新 URL\n        router.push(`/gallery/${gallery.id}`);\n\n        setSearchTerm('');\n        setShowSearchResults(false);\n        setCurrentGallery(gallery);\n\n        // 更新面包屑\n        if (gallery.breadcrumbs) {\n            setBreadcrumbs(gallery.breadcrumbs);\n        }\n\n        if (isLeafGallery(gallery)) {\n            await loadImages(gallery.id);\n            setChildrenImagesGroups([]);\n        } else {\n            await loadChildrenImages(gallery.id);\n            setImages([]);\n        }\n    }, [currentGallery, isLeafGallery, loadImages, loadChildrenImages, router]);\n\n    const handleBreadcrumbClick = useCallback((breadcrumb: Breadcrumb) => {\n        if (breadcrumb.id === currentGallery?.id) return;\n\n        if (breadcrumb.id === 'root') {\n            router.push('/gallery');\n            setCurrentGallery(null);\n            setBreadcrumbs([]);\n            setImages([]);\n        } else {\n            const findGallery = (tree: Gallery[], id: string): Gallery | null => {\n                for (const gallery of tree) {\n                    if (gallery.id === id) return gallery;\n                    if (gallery.children) {\n                        const found = findGallery(gallery.children, id);\n                        if (found) return found;\n                    }\n                }\n                return null;\n            };\n\n            const gallery = findGallery(galleryTree, breadcrumb.id);\n            if (gallery) handleGalleryClick(gallery);\n        }\n    }, [currentGallery, galleryTree, handleGalleryClick, router]);\n\n    const handleImageClick = useCallback((img: GalleryImage, index: number, allImages?: GalleryImage[]) => {\n        setLightboxImage(img);\n\n        if (allImages) {\n            const globalIndex = allImages.findIndex(image => image.id === img.id);\n            setCurrentImageIndex(globalIndex >= 0 ? globalIndex : 0);\n            setImages(allImages);\n        } else {\n            setCurrentImageIndex(index);\n        }\n    }, []);\n\n    const toggleExpand = useCallback((galleryId: string) => {\n        setExpandedNodes(prev => {\n            const newSet = new Set(prev);\n            if (newSet.has(galleryId)) {\n                newSet.delete(galleryId);\n            } else {\n                newSet.add(galleryId);\n            }\n            return newSet;\n        });\n    }, []);\n\n    const handlePreviousImage = useCallback(() => {\n        if (images.length === 0) return;\n        const newIndex = currentImageIndex === 0 ? images.length - 1 : currentImageIndex - 1;\n        setCurrentImageIndex(newIndex);\n        setLightboxImage(images[newIndex]);\n    }, [images, currentImageIndex]);\n\n    const handleNextImage = useCallback(() => {\n        if (images.length === 0) return;\n        const newIndex = currentImageIndex === images.length - 1 ? 0 : currentImageIndex + 1;\n        setCurrentImageIndex(newIndex);\n        setLightboxImage(images[newIndex]);\n    }, [images, currentImageIndex]);\n\n    // 初始加载\n    useEffect(() => {\n        if (!hasLoadedRef.current) {\n            hasLoadedRef.current = true;\n            loadGalleryTree();\n        }\n    }, [loadGalleryTree]);\n\n    // 根据 URL 参数加载图集\n    useEffect(() => {\n        if (galleryTree.length > 0 && galleryId && !initialGalleryLoadedRef.current) {\n            initialGalleryLoadedRef.current = true;\n\n            const findGallery = (tree: Gallery[], id: string): Gallery | null => {\n                for (const gallery of tree) {\n                    if (gallery.id === id) return gallery;\n                    if (gallery.children) {\n                        const found = findGallery(gallery.children, id);\n                        if (found) return found;\n                    }\n                }\n                return null;\n            };\n\n            const gallery = findGallery(galleryTree, galleryId);\n            if (gallery) {\n                handleGalleryClick(gallery);\n            }\n        }\n    }, [galleryTree, galleryId, handleGalleryClick]);\n\n    // 自动展开当前图集路径\n    useEffect(() => {\n        if (currentGallery) {\n            const findPathToGallery = (tree: Gallery[], targetId: string, path: Gallery[]): Gallery[] => {\n                for (const gallery of tree) {\n                    const currentPath = [...path, gallery];\n                    if (gallery.id === targetId) {\n                        return currentPath;\n                    }\n                    if (gallery.children) {\n                        const result = findPathToGallery(gallery.children, targetId, currentPath);\n                        if (result.length > 0) {\n                            return result;\n                        }\n                    }\n                }\n                return [];\n            };\n\n            const path = findPathToGallery(galleryTree, currentGallery.id, []);\n            if (path.length > 0) {\n                setExpandedNodes(new Set(path.map(g => g.id)));\n            }\n        }\n    }, [currentGallery, galleryTree]);\n\n    // 搜索功能\n    useEffect(() => {\n        if (searchTerm.trim()) {\n            const searchGalleries = (tree: Gallery[], term: string, results: Gallery[] = []): Gallery[] => {\n                for (const gallery of tree) {\n                    if (gallery.title.toLowerCase().includes(term) || gallery.description.toLowerCase().includes(term)) {\n                        results.push(gallery);\n                    }\n                    if (gallery.children) {\n                        searchGalleries(gallery.children, term, results);\n                    }\n                }\n                return results;\n            };\n\n            const results = searchGalleries(galleryTree, searchTerm.trim().toLowerCase());\n            setSearchResults(results);\n            setShowSearchResults(true);\n        } else {\n            setSearchResults([]);\n            setShowSearchResults(false);\n        }\n    }, [searchTerm, galleryTree]);\n\n    return {\n        galleryTree,\n        currentGallery,\n        images,\n        breadcrumbs,\n        loading,\n        lightboxImage,\n        currentImageIndex,\n        sidebarOpen,\n        expandedNodes,\n        searchTerm,\n        searchResults,\n        showSearchResults,\n        childrenImagesGroups,\n        allChildrenImages,\n        loadGalleryTree,\n        handleGalleryClick,\n        handleBreadcrumbClick,\n        handleImageClick,\n        toggleExpand,\n        handlePreviousImage,\n        handleNextImage,\n        setLightboxImage,\n        setSidebarOpen,\n        setSearchTerm,\n        setCurrentImageIndex,\n    };\n}\n\nexport default useGalleryData;\n","'use client';\n\n/**\n * GallerySidebar - 图集侧边栏组件\n * \n * @module app/albums/components\n * @description 图集树形导航侧边栏\n */\n\nimport React from 'react';\nimport { Gallery } from '@/app/domain/types';\n\ninterface GallerySidebarProps {\n    galleryTree: Gallery[];\n    currentGallery: Gallery | null;\n    expandedNodes: Set<string>;\n    onToggle: (galleryId: string) => void;\n    onSelect: (gallery: Gallery) => void;\n    isOpen: boolean;\n    onClose: () => void;\n}\n\nexport default function GallerySidebar({\n    galleryTree,\n    currentGallery,\n    expandedNodes,\n    onToggle,\n    onSelect,\n    isOpen,\n    onClose,\n}: GallerySidebarProps) {\n    return (\n        <>\n            {/* 移动端遮罩 */}\n            {isOpen && (\n                <div\n                    className=\"fixed inset-0 bg-black/20 z-40 lg:hidden\"\n                    onClick={onClose}\n                />\n            )}\n\n            {/* 侧边栏 */}\n            <aside\n                className={`\n                    fixed lg:static inset-y-0 left-0 z-50\n                    w-72 bg-white/90 backdrop-blur-sm border-r border-[#8eb69b]/20\n                    transform transition-transform duration-300 ease-in-out\n                    flex flex-col\n                    ${isOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n                `}\n            >\n                {/* 头部 */}\n                <div className=\"p-4 border-b border-[#8eb69b]/20\">\n                    <h2 className=\"text-lg font-bold text-[#4a3728]\">图集导航</h2>\n                </div>\n\n                {/* 树形导航 */}\n                <div className=\"flex-1 overflow-y-auto p-4\">\n                    {/* TODO: 实现树形导航 */}\n                    <div className=\"text-sm text-[#4a3728]/60\">\n                        图集列表加载中...\n                    </div>\n                </div>\n            </aside>\n        </>\n    );\n}\n","'use client';\n\n/**\n * GalleryHeader - 图集页面头部组件\n * \n * @module app/albums/components\n * @description 面包屑导航、搜索、快速选择\n */\n\nimport React from 'react';\nimport { Menu, Search, ChevronRight } from 'lucide-react';\nimport { Gallery, Breadcrumb } from '@/app/domain/types';\n\ninterface GalleryHeaderProps {\n    breadcrumbs: Breadcrumb[];\n    galleryTree: Gallery[];\n    currentGallery: Gallery | null;\n    searchTerm: string;\n    searchResults: Gallery[];\n    showSearchResults: boolean;\n    sidebarOpen: boolean;\n    onSidebarToggle: () => void;\n    onBreadcrumbClick: (breadcrumb: Breadcrumb) => void;\n    onSearchChange: (term: string) => void;\n    onSearchResultClick: (gallery: Gallery) => void;\n    onQuickSelect: (gallery: Gallery) => void;\n}\n\nexport default function GalleryHeader({\n    breadcrumbs,\n    currentGallery,\n    searchTerm,\n    searchResults,\n    showSearchResults,\n    sidebarOpen,\n    onSidebarToggle,\n    onBreadcrumbClick,\n    onSearchChange,\n    onSearchResultClick,\n}: GalleryHeaderProps) {\n    return (\n        <header className=\"sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-[#8eb69b]/20 px-6 py-4\">\n            <div className=\"flex items-center gap-4\">\n                {/* 侧边栏切换按钮 */}\n                <button\n                    onClick={onSidebarToggle}\n                    className=\"lg:hidden p-2 rounded-lg hover:bg-[#8eb69b]/10 transition-colors\"\n                    aria-label={sidebarOpen ? '关闭侧边栏' : '打开侧边栏'}\n                >\n                    <Menu className=\"w-5 h-5 text-[#4a3728]\" />\n                </button>\n\n                {/* 面包屑导航 */}\n                <nav className=\"flex-1 flex items-center gap-2 overflow-x-auto\">\n                    <button\n                        onClick={() => onBreadcrumbClick({ id: 'root', title: '首页' })}\n                        className=\"text-sm text-[#4a3728]/60 hover:text-[#f8b195] transition-colors whitespace-nowrap\"\n                    >\n                        图集首页\n                    </button>\n                    {breadcrumbs.map((crumb, index) => (\n                        <React.Fragment key={crumb.id}>\n                            <ChevronRight className=\"w-4 h-4 text-[#4a3728]/30 flex-shrink-0\" />\n                            <button\n                                onClick={() => onBreadcrumbClick(crumb)}\n                                className={`text-sm whitespace-nowrap transition-colors ${\n                                    index === breadcrumbs.length - 1\n                                        ? 'text-[#f8b195] font-medium'\n                                        : 'text-[#4a3728]/60 hover:text-[#f8b195]'\n                                }`}\n                            >\n                                {crumb.title}\n                            </button>\n                        </React.Fragment>\n                    ))}\n                </nav>\n\n                {/* 搜索框 */}\n                <div className=\"relative hidden sm:block\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#4a3728]/40\" />\n                    <input\n                        type=\"text\"\n                        placeholder=\"搜索图集...\"\n                        value={searchTerm}\n                        onChange={(e) => onSearchChange(e.target.value)}\n                        className=\"pl-9 pr-4 py-2 rounded-full bg-[#fef5f0] border border-[#8eb69b]/20\n                                   text-sm text-[#4a3728] placeholder:text-[#4a3728]/40\n                                   focus:outline-none focus:border-[#f8b195] focus:ring-2 focus:ring-[#f8b195]/20\n                                   transition-all w-48 focus:w-64\"\n                    />\n                    \n                    {/* 搜索结果下拉框 */}\n                    {showSearchResults && searchResults.length > 0 && (\n                        <div className=\"absolute top-full right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-[#8eb69b]/20 py-2 z-50\">\n                            {searchResults.map((gallery) => (\n                                <button\n                                    key={gallery.id}\n                                    onClick={() => onSearchResultClick(gallery)}\n                                    className=\"w-full px-4 py-2 text-left text-sm text-[#4a3728] hover:bg-[#fef5f0] transition-colors\"\n                                >\n                                    {gallery.title}\n                                </button>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* 当前图集标题 */}\n            {currentGallery && (\n                <div className=\"mt-4\">\n                    <h1 className=\"text-2xl font-bold text-[#4a3728]\">{currentGallery.title}</h1>\n                    {currentGallery.description && (\n                        <p className=\"mt-1 text-sm text-[#4a3728]/60\">{currentGallery.description}</p>\n                    )}\n                </div>\n            )}\n        </header>\n    );\n}\n","'use client';\n\n/**\n * GalleryGrid - 图集网格组件\n * \n * @module app/albums/components\n * @description 图集卡片网格展示\n */\n\nimport React from 'react';\nimport Image from 'next/image';\nimport { Folder, ImageIcon } from 'lucide-react';\nimport { Gallery } from '@/app/domain/types';\n\ninterface GalleryGridProps {\n    galleries: Gallery[];\n    onGalleryClick: (gallery: Gallery) => void;\n}\n\nexport default function GalleryGrid({ galleries, onGalleryClick }: GalleryGridProps) {\n    if (galleries.length === 0) {\n        return (\n            <div className=\"text-center py-20\">\n                <p className=\"text-[#4a3728]/60\">暂无图集</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {galleries.map((gallery) => (\n                <button\n                    key={gallery.id}\n                    onClick={() => onGalleryClick(gallery)}\n                    className=\"group relative bg-white rounded-2xl overflow-hidden shadow-sm\n                               border border-[#8eb69b]/10 hover:border-[#f8b195]/50\n                               hover:shadow-lg hover:shadow-[#f8b195]/10\n                               transition-all duration-300 text-left\"\n                >\n                    {/* 封面图 */}\n                    <div className=\"aspect-[4/3] relative bg-gradient-to-br from-[#fef5f0] to-[#f8b195]/10\">\n                        {gallery.coverUrl ? (\n                            <Image\n                                src={gallery.coverThumbnailUrl || gallery.coverUrl}\n                                alt={gallery.title}\n                                fill\n                                className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n                                sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw\"\n                            />\n                        ) : (\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\n                                <Folder className=\"w-16 h-16 text-[#8eb69b]/30\" />\n                            </div>\n                        )}\n                        \n                        {/* 图片数量标签 */}\n                        <div className=\"absolute top-3 right-3 px-2 py-1 bg-black/50 backdrop-blur-sm rounded-full flex items-center gap-1\">\n                            <ImageIcon className=\"w-3 h-3 text-white\" />\n                            <span className=\"text-xs text-white font-medium\">{gallery.imageCount}</span>\n                        </div>\n                    </div>\n\n                    {/* 信息 */}\n                    <div className=\"p-4\">\n                        <h3 className=\"font-bold text-[#4a3728] group-hover:text-[#f8b195] transition-colors line-clamp-1\">\n                            {gallery.title}\n                        </h3>\n                        {gallery.description && (\n                            <p className=\"mt-1 text-sm text-[#4a3728]/60 line-clamp-2\">\n                                {gallery.description}\n                            </p>\n                        )}\n                    </div>\n                </button>\n            ))}\n        </div>\n    );\n}\n","'use client';\n\n/**\n * ImageGrid - 图片网格组件\n * \n * @module app/albums/components\n * @description 图片网格展示（叶子图集），支持图片、GIF和视频\n */\n\nimport React from 'react';\nimport Image from 'next/image';\nimport { Play } from 'lucide-react';\nimport { GalleryImage } from '@/app/domain/types';\n\ninterface ImageGridProps {\n    images: GalleryImage[];\n    onImageClick: (img: GalleryImage, index: number) => void;\n}\n\nexport default function ImageGrid({ images, onImageClick }: ImageGridProps) {\n    if (images.length === 0) {\n        return (\n            <div className=\"text-center py-20\">\n                <p className=\"text-[#4a3728]/60\">暂无图片</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4\">\n            {images.map((image, index) => (\n                <button\n                    key={image.id}\n                    onClick={() => onImageClick(image, index)}\n                    className=\"group block w-full break-inside-avoid mb-4\"\n                >\n                    <div className=\"relative rounded-xl overflow-hidden bg-[#fef5f0] border border-[#8eb69b]/10\n                                    hover:border-[#f8b195]/50 hover:shadow-lg hover:shadow-[#f8b195]/10\n                                    transition-all duration-300\">\n                        {/* 媒体内容 */}\n                        <div className=\"relative\">\n                            {image.isGif || image.isVideo ? (\n                                // GIF 和视频使用原生 img 标签\n                                // eslint-disable-next-line @next/next/no-img-element\n                                <img\n                                    src={image.thumbnailUrl || image.url}\n                                    alt={image.title || image.filename}\n                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                    loading=\"lazy\"\n                                />\n                            ) : (\n                                // 普通图片使用 Next.js Image\n                                <Image\n                                    src={image.thumbnailUrl || image.url}\n                                    alt={image.title || image.filename}\n                                    width={400}\n                                    height={300}\n                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                    sizes=\"(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw\"\n                                />\n                            )}\n                            \n                            {/* 视频播放图标遮罩 */}\n                            {image.isVideo && (\n                                <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors\">\n                                    <div className=\"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                                        <Play className=\"w-6 h-6 text-[#f67280] fill-[#f67280] ml-0.5\" />\n                                    </div>\n                                </div>\n                            )}\n                        </div>\n                        \n                        {/* 悬停遮罩 */}\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\n                                        opacity-0 group-hover:opacity-100 transition-opacity duration-300\n                                        flex items-end p-3\">\n                            <span className=\"text-white text-sm font-medium line-clamp-1\">\n                                {image.title || image.filename}\n                            </span>\n                        </div>\n\n                        {/* GIF/Video 标签 */}\n                        {(image.isGif || image.isVideo) && (\n                            <div className=\"absolute top-2 right-2 px-2 py-0.5 bg-[#f67280] rounded text-xs text-white font-medium\">\n                                {image.isGif ? 'GIF' : '视频'}\n                            </div>\n                        )}\n                    </div>\n                </button>\n            ))}\n        </div>\n    );\n}\n","'use client';\n\n/**\n * ImageViewer - 图片/视频查看器组件\n * \n * @module app/albums/components\n * @description Lightbox 图片/视频/GIF查看器\n */\n\nimport React, { useEffect, useCallback, useRef, useState } from 'react';\nimport Image from 'next/image';\nimport { X, ChevronLeft, ChevronRight, Play, Pause, Volume2, VolumeX } from 'lucide-react';\nimport { GalleryImage } from '@/app/domain/types';\n\ninterface ImageViewerProps {\n    images: GalleryImage[];\n    currentIndex: number;\n    onClose: () => void;\n    onPrevious: () => void;\n    onNext: () => void;\n    onIndexChange: (index: number) => void;\n    onSelectImage: (image: GalleryImage) => void;\n}\n\nexport default function ImageViewer({\n    images,\n    currentIndex,\n    onClose,\n    onPrevious,\n    onNext,\n    onIndexChange,\n}: ImageViewerProps) {\n    const currentImage = images[currentIndex];\n    const videoRef = useRef<HTMLVideoElement>(null);\n    const [isPlaying, setIsPlaying] = useState(true);\n    const [isMuted, setIsMuted] = useState(true);\n\n    // 键盘导航\n    const handleKeyDown = useCallback((e: KeyboardEvent) => {\n        switch (e.key) {\n            case 'Escape':\n                onClose();\n                break;\n            case 'ArrowLeft':\n                onPrevious();\n                break;\n            case 'ArrowRight':\n                onNext();\n                break;\n            case ' ':\n                e.preventDefault();\n                if (currentImage?.isVideo && videoRef.current) {\n                    if (videoRef.current.paused) {\n                        videoRef.current.play();\n                        setIsPlaying(true);\n                    } else {\n                        videoRef.current.pause();\n                        setIsPlaying(false);\n                    }\n                }\n                break;\n        }\n    }, [onClose, onPrevious, onNext, currentImage]);\n\n    useEffect(() => {\n        document.addEventListener('keydown', handleKeyDown);\n        document.body.style.overflow = 'hidden';\n        \n        return () => {\n            document.removeEventListener('keydown', handleKeyDown);\n            document.body.style.overflow = '';\n        };\n    }, [handleKeyDown]);\n\n    // 切换图片时重置视频状态\n    useEffect(() => {\n        setIsPlaying(true);\n        setIsMuted(true);\n    }, [currentIndex]);\n\n    if (!currentImage) return null;\n\n    const isVideo = currentImage.isVideo;\n    const isGif = currentImage.isGif;\n\n    const togglePlay = () => {\n        if (videoRef.current) {\n            if (videoRef.current.paused) {\n                videoRef.current.play();\n                setIsPlaying(true);\n            } else {\n                videoRef.current.pause();\n                setIsPlaying(false);\n            }\n        }\n    };\n\n    const toggleMute = () => {\n        if (videoRef.current) {\n            videoRef.current.muted = !videoRef.current.muted;\n            setIsMuted(!isMuted);\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-50 bg-black/95 flex flex-col\">\n            {/* 顶部工具栏 */}\n            <div className=\"flex items-center justify-between px-4 py-3 flex-shrink-0\">\n                {/* 媒体计数 */}\n                <div className=\"px-3 py-1 rounded-full bg-white/10 text-white text-sm\">\n                    {currentIndex + 1} / {images.length}\n                    {isVideo && ' · 视频'}\n                    {isGif && ' · GIF'}\n                </div>\n\n                {/* 关闭按钮 */}\n                <button\n                    onClick={onClose}\n                    className=\"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors\"\n                    aria-label=\"关闭\"\n                >\n                    <X className=\"w-6 h-6 text-white\" />\n                </button>\n            </div>\n\n            {/* 主内容区域 */}\n            <div className=\"flex-1 flex items-center justify-center min-h-0 overflow-hidden\">\n                {/* 按钮+内容 在同一个 flex 容器中 */}\n                <div className=\"flex items-center justify-center\">\n                    {/* 左侧切换按钮 - 紧贴内容 */}\n                    {images.length > 1 && (\n                        <button\n                            onClick={onPrevious}\n                            className=\"flex-shrink-0 p-2 md:p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors mr-2\"\n                            aria-label=\"上一张\"\n                        >\n                            <ChevronLeft className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\n                        </button>\n                    )}\n\n                    {/* 媒体内容 */}\n                    <div className=\"relative\">\n                        {isVideo ? (\n                            // 视频播放\n                            <div className=\"flex flex-col items-center\">\n                                <video\n                                    ref={videoRef}\n                                    src={currentImage.url}\n                                    className=\"max-w-full max-h-[calc(100vh-180px)] object-contain\"\n                                    autoPlay\n                                    loop\n                                    muted\n                                    playsInline\n                                    onClick={togglePlay}\n                                />\n                                {/* 视频控制栏 */}\n                                <div className=\"mt-3 flex items-center gap-4 px-4 py-2 rounded-full bg-black/60 backdrop-blur-sm\">\n                                    <button\n                                        onClick={togglePlay}\n                                        className=\"p-2 rounded-full hover:bg-white/20 transition-colors\"\n                                        aria-label={isPlaying ? '暂停' : '播放'}\n                                    >\n                                        {isPlaying ? (\n                                            <Pause className=\"w-5 h-5 text-white\" />\n                                        ) : (\n                                            <Play className=\"w-5 h-5 text-white\" />\n                                        )}\n                                    </button>\n                                    <button\n                                        onClick={toggleMute}\n                                        className=\"p-2 rounded-full hover:bg-white/20 transition-colors\"\n                                        aria-label={isMuted ? '取消静音' : '静音'}\n                                    >\n                                        {isMuted ? (\n                                            <VolumeX className=\"w-5 h-5 text-white\" />\n                                        ) : (\n                                            <Volume2 className=\"w-5 h-5 text-white\" />\n                                        )}\n                                    </button>\n                                    <span className=\"text-white text-sm hidden sm:inline\">\n                                        空格键播放/暂停\n                                    </span>\n                                </div>\n                            </div>\n                        ) : isGif ? (\n                            // GIF 使用原生 img 标签以支持动画\n                            // eslint-disable-next-line @next/next/no-img-element\n                            <img\n                                src={currentImage.url}\n                                alt={currentImage.title || currentImage.filename}\n                                className=\"max-w-full max-h-[calc(100vh-140px)] object-contain\"\n                            />\n                        ) : (\n                            // 普通图片使用 Next.js Image\n                            // eslint-disable-next-line @next/next/no-img-element\n                            <img\n                                src={currentImage.url}\n                                alt={currentImage.title || currentImage.filename}\n                                className=\"max-w-full max-h-[calc(100vh-140px)] object-contain\"\n                            />\n                        )}\n                    </div>\n\n                    {/* 右侧切换按钮 - 紧贴内容 */}\n                    {images.length > 1 && (\n                        <button\n                            onClick={onNext}\n                            className=\"flex-shrink-0 p-2 md:p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors ml-2\"\n                            aria-label=\"下一张\"\n                        >\n                            <ChevronRight className=\"w-5 h-5 md:w-6 md:h-6 text-white\" />\n                        </button>\n                    )}\n                </div>\n            </div>\n\n            {/* 底部缩略图导航 */}\n            {images.length > 1 && (\n                <div className=\"px-4 py-3 flex-shrink-0\">\n                    <div className=\"flex gap-2 overflow-x-auto max-w-full mx-auto p-2 rounded-xl bg-black/50 backdrop-blur-sm justify-center\">\n                        {images.map((img, index) => (\n                            <button\n                                key={img.id}\n                                onClick={() => onIndexChange(index)}\n                                className={`relative flex-shrink-0 w-14 h-14 md:w-16 md:h-16 rounded-lg overflow-hidden border-2 transition-all ${\n                                    index === currentIndex\n                                        ? 'border-[#f8b195] scale-110'\n                                        : 'border-transparent opacity-60 hover:opacity-100'\n                                }`}\n                            >\n                                {/* 缩略图 */}\n                                {/* eslint-disable-next-line @next/next/no-img-element */}\n                                <img\n                                    src={img.thumbnailUrl || img.url}\n                                    alt={img.title || img.filename}\n                                    className=\"w-full h-full object-cover\"\n                                />\n                                {/* 视频/GIF 标识 */}\n                                {(img.isVideo || img.isGif) && (\n                                    <div className=\"absolute top-0.5 right-0.5 px-1 py-0.5 bg-[#f67280] rounded text-[8px] text-white font-medium leading-none\">\n                                        {img.isVideo ? '视频' : 'GIF'}\n                                    </div>\n                                )}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n","'use client';\n\n/**\n * ChildrenImagesDisplay - 子图集图片展示组件\n * \n * @module app/albums/components\n * @description 父图集下的子图集图片聚合展示，支持图片、GIF和视频\n */\n\nimport React from 'react';\nimport Image from 'next/image';\nimport { Play } from 'lucide-react';\nimport { Gallery, GalleryImage } from '@/app/domain/types';\n\ninterface ChildrenImagesDisplayProps {\n    childrenGroups: { gallery: Gallery; images: GalleryImage[] }[];\n    allChildrenImages: GalleryImage[];\n    onImageClick: (img: GalleryImage, index: number, allImages?: GalleryImage[]) => void;\n}\n\nexport default function ChildrenImagesDisplay({\n    childrenGroups,\n    allChildrenImages,\n    onImageClick,\n}: ChildrenImagesDisplayProps) {\n    if (childrenGroups.length === 0) {\n        return (\n            <div className=\"text-center py-20\">\n                <p className=\"text-[#4a3728]/60\">暂无图片</p>\n            </div>\n        );\n    }\n\n    // 使用 allChildrenImages 计算全局索引（确保和 ImageViewer 使用的列表一致）\n\n    return (\n        <div className=\"space-y-12\">\n            {childrenGroups.map((group) => (\n                <section key={group.gallery.id} className=\"space-y-4\">\n                    {/* 子图集标题 */}\n                    <div className=\"flex items-center gap-3\">\n                        <h3 className=\"text-lg font-bold text-[#4a3728]\">{group.gallery.title}</h3>\n                        <span className=\"px-2 py-0.5 bg-[#8eb69b]/20 rounded-full text-xs text-[#8eb69b] font-medium\">\n                            {group.images.length} 张\n                        </span>\n                    </div>\n\n                    {/* 图片网格 */}\n                    <div className=\"columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4\">\n                        {group.images.map((image) => {\n                            // 计算该图片在所有图片中的索引（使用 allChildrenImages 确保一致）\n                            const globalIndex = allChildrenImages.findIndex(img => img.id === image.id);\n                            \n                            return (\n                                <button\n                                    key={image.id}\n                                    onClick={() => onImageClick(image, globalIndex, allChildrenImages)}\n                                    className=\"group block w-full break-inside-avoid mb-4\"\n                                >\n                                    <div className=\"relative rounded-xl overflow-hidden bg-[#fef5f0] border border-[#8eb69b]/10\n                                                    hover:border-[#f8b195]/50 hover:shadow-lg hover:shadow-[#f8b195]/10\n                                                    transition-all duration-300\">\n                                        {/* 媒体内容 */}\n                                        <div className=\"relative\">\n                                            {image.isGif || image.isVideo ? (\n                                                // GIF 和视频使用原生 img 标签\n                                                // eslint-disable-next-line @next/next/no-img-element\n                                                <img\n                                                    src={image.thumbnailUrl || image.url}\n                                                    alt={image.title || image.filename}\n                                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                                    loading=\"lazy\"\n                                                />\n                                            ) : (\n                                                // 普通图片使用 Next.js Image\n                                                <Image\n                                                    src={image.thumbnailUrl || image.url}\n                                                    alt={image.title || image.filename}\n                                                    width={400}\n                                                    height={300}\n                                                    className=\"w-full h-auto object-cover group-hover:scale-105 transition-transform duration-500\"\n                                                    sizes=\"(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw\"\n                                                />\n                                            )}\n                                            \n                                            {/* 视频播放图标遮罩 */}\n                                            {image.isVideo && (\n                                                <div className=\"absolute inset-0 flex items-center justify-center bg-black/20 group-hover:bg-black/30 transition-colors\">\n                                                    <div className=\"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                                                        <Play className=\"w-6 h-6 text-[#f67280] fill-[#f67280] ml-0.5\" />\n                                                    </div>\n                                                </div>\n                                            )}\n                                        </div>\n                                        \n                                        {/* 悬停遮罩 */}\n                                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent\n                                                        opacity-0 group-hover:opacity-100 transition-opacity duration-300\n                                                        flex items-end p-3\">\n                                            <span className=\"text-white text-sm font-medium line-clamp-1\">\n                                                {image.title || image.filename}\n                                            </span>\n                                        </div>\n\n                                        {/* GIF/Video 标签 */}\n                                        {(image.isGif || image.isVideo) && (\n                                            <div className=\"absolute top-2 right-2 px-2 py-0.5 bg-[#f67280] rounded text-xs text-white font-medium\">\n                                                {image.isGif ? 'GIF' : '视频'}\n                                            </div>\n                                        )}\n                                    </div>\n                                </button>\n                            );\n                        })}\n                    </div>\n                </section>\n            ))}\n        </div>\n    );\n}\n","'use client';\n\n/**\n * WelcomeBanner - 欢迎横幅组件\n * \n * @module app/albums/components\n * @description 图集首页欢迎横幅\n */\n\nimport React from 'react';\nimport { Sparkles, ImageIcon, Heart, Camera } from 'lucide-react';\n\nexport default function WelcomeBanner() {\n    return (\n        <div className=\"relative overflow-hidden rounded-3xl bg-gradient-to-br from-[#fef5f0] via-white to-[#f8b195]/10\n                        border border-[#8eb69b]/20 p-8 md:p-12 mb-8\">\n            {/* 装饰背景 */}\n            <div className=\"absolute top-0 right-0 w-64 h-64 bg-[#f8b195]/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2\" />\n            <div className=\"absolute bottom-0 left-0 w-48 h-48 bg-[#8eb69b]/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2\" />\n\n            <div className=\"relative z-10\">\n                {/* 标题 */}\n                <div className=\"flex items-center gap-3 mb-4\">\n                    <div className=\"p-3 bg-[#f8b195]/20 rounded-2xl\">\n                        <ImageIcon className=\"w-8 h-8 text-[#f8b195]\" />\n                    </div>\n                    <div>\n                        <h1 className=\"text-2xl md:text-3xl font-bold text-[#4a3728]\">\n                            欢迎来到咻咻满图集\n                        </h1>\n                        <div className=\"flex items-center gap-2 mt-1\">\n                            <Sparkles className=\"w-4 h-4 text-[#f8b195]\" />\n                            <span className=\"text-sm text-[#4a3728]/60\">记录美好瞬间</span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* 描述 */}\n                <p className=\"text-[#4a3728]/70 leading-relaxed max-w-2xl mb-6\">\n                    这里汇集了粉丝二创作品、活动照片和生活瞬间。图集持续整理更新中，\n                    欢迎各位小满虫投稿和分享。点击左侧导航或下方图集开始浏览吧！\n                </p>\n\n                {/* 特色标签 */}\n                <div className=\"flex flex-wrap gap-3\">\n                    <div className=\"flex items-center gap-2 px-4 py-2 bg-white/80 rounded-full border border-[#8eb69b]/20\">\n                        <Heart className=\"w-4 h-4 text-[#f67280]\" />\n                        <span className=\"text-sm text-[#4a3728]\">粉丝二创</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 px-4 py-2 bg-white/80 rounded-full border border-[#8eb69b]/20\">\n                        <Camera className=\"w-4 h-4 text-[#8eb69b]\" />\n                        <span className=\"text-sm text-[#4a3728]\">活动照片</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 px-4 py-2 bg-white/80 rounded-full border border-[#8eb69b]/20\">\n                        <Sparkles className=\"w-4 h-4 text-[#f8b195]\" />\n                        <span className=\"text-sm text-[#4a3728]\">生活瞬间</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}