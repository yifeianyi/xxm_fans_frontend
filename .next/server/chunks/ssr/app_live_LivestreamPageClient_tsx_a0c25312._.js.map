{"version":3,"sources":["../../../../app/live/hooks/useLivestreamDetail.ts","../../../../app/live/components/CalendarCell.tsx","../../../../app/live/components/CalendarGrid.tsx","../../../../app/live/components/CalendarControl.tsx","../../../../app/live/components/LivestreamHeader.tsx","../../../../app/live/hooks/useLivestreamData.ts","../../../../app/shared/components/LazyImage.tsx","../../../../app/live/components/LiveDetail.tsx","../../../../app/live/LivestreamPageClient.tsx","../../../../node_modules/lucide-react/src/icons/layers.ts","../../../../node_modules/lucide-react/src/icons/monitor.ts","../../../../node_modules/lucide-react/src/icons/maximize-2.ts"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { Livestream } from '@/app/domain/types';\nimport { livestreamRepository } from '@/app/infrastructure/repositories';\n\ninterface UseLivestreamDetailReturn {\n  /** 选中的直播 */\n  selectedLive: Livestream | null;\n  /** 选择直播并获取详情 */\n  handleSelectLive: (cell: { live?: Livestream }) => Promise<void>;\n  /** 清除选择 */\n  clearSelection: () => void;\n  /** 详情区域引用 */\n  liveDetailRef: React.RefObject<HTMLDivElement | null>;\n  /** 详情加载状态 */\n  detailLoading: boolean;\n}\n\nexport const useLivestreamDetail = (): UseLivestreamDetailReturn => {\n  const [selectedLive, setSelectedLive] = useState<Livestream | null>(null);\n  const [detailLoading, setDetailLoading] = useState(false);\n  const liveDetailRef = useRef<HTMLDivElement>(null);\n\n  const handleSelectLive = useCallback(async (cell: { live?: Livestream }) => {\n    if (!cell.live) return;\n    \n    setDetailLoading(true);\n    \n    try {\n      // 调用 API 获取完整详情（包含 screenshots, songCuts 等）\n      const detail = await livestreamRepository.getLivestreamByDate(cell.live.date);\n      \n      if (detail) {\n        setSelectedLive(detail);\n      } else {\n        // 如果获取详情失败，使用基本信息\n        setSelectedLive(cell.live);\n      }\n      \n      // 滚动到详情区域\n      setTimeout(() => {\n        liveDetailRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }, 100);\n    } catch (error) {\n      console.error('获取直播详情失败:', error);\n      // 失败时使用基本信息\n      setSelectedLive(cell.live);\n    } finally {\n      setDetailLoading(false);\n    }\n  }, []);\n\n  const clearSelection = useCallback(() => {\n    setSelectedLive(null);\n  }, []);\n\n  return {\n    selectedLive,\n    handleSelectLive,\n    clearSelection,\n    liveDetailRef,\n    detailLoading\n  };\n};\n\nexport default useLivestreamDetail;","'use client';\n\nimport React from 'react';\nimport { Livestream } from '@/app/domain/types';\n\n/**\n * 日历单元格类型\n */\nexport interface CalendarCellData {\n  /** 日期数字，null表示空白单元格 */\n  day: number | null;\n  /** 日期字符串（YYYY-MM-DD格式） */\n  date: string;\n  /** 该日期的直播记录（如果有） */\n  live?: Livestream;\n}\n\ninterface CalendarCellProps {\n  /** 单元格数据 */\n  cell: CalendarCellData;\n  /** 今天的日期字符串（YYYY-MM-DD格式） */\n  todayStr: string;\n  /** 是否选中 */\n  isSelected: boolean;\n  /** 点击回调 */\n  onClick: () => void;\n}\n\nexport const CalendarCell: React.FC<CalendarCellProps> = ({ cell, todayStr, isSelected, onClick }) => {\n  const isToday = cell.date === todayStr;\n  // 确保 live 对象有效且至少有日期字段\n  const hasLive = !!(cell.live?.date);\n\n  const handleClick = () => {\n    if (hasLive && cell.live) {\n      onClick();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (hasLive && (e.key === 'Enter' || e.key === ' ')) {\n      e.preventDefault();\n      onClick();\n    }\n  };\n\n  return (\n    <div\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      className={`aspect-video flex items-center justify-center relative z-0 rounded-2xl transition-all ${\n        cell.day ? 'bg-white/60' : 'bg-transparent'\n      } ${hasLive ? 'cursor-pointer hover:bg-[#fef5f0] shadow-sm' : ''} ${\n        isSelected ? 'bg-[#fef5f0] ring-4 ring-[#f8b195]/20' : ''\n      } ${isToday ? 'ring-2 ring-[#8eb69b]/50' : ''}`}\n      role={hasLive ? 'button' : 'gridcell'}\n      tabIndex={hasLive ? 0 : undefined}\n      aria-label={hasLive ? `${cell.date}有直播记录` : cell.date}\n      aria-selected={isSelected}\n    >\n      <span\n        className={`text-sm font-black ${\n          hasLive ? 'text-[#f8b195]' : isToday ? 'text-[#8eb69b] font-bold' : 'text-[#4a3728]/40'\n        }`}\n      >\n        {cell.day}\n      </span>\n      {hasLive && <div className=\"absolute bottom-1 w-1 h-1 rounded-full bg-[#f8b195]\" aria-hidden=\"true\" />}\n      {isToday && <div className=\"absolute top-1 right-1 w-1.5 h-1.5 rounded-full bg-[#8eb69b]\" aria-hidden=\"true\" />}\n    </div>\n  );\n};\n\nexport default CalendarCell;\n","'use client';\n\nimport React from 'react';\nimport { CalendarCell, CalendarCellData } from './CalendarCell';\n\ninterface CalendarGridProps {\n  /** 当前显示的月份 */\n  currentDate: Date;\n  /** 日历单元格数组 */\n  cells: CalendarCellData[];\n  /** 今天的日期字符串（YYYY-MM-DD格式） */\n  todayStr: string;\n  /** 点击单元格的回调 */\n  onCellClick: (cell: CalendarCellData) => void;\n  /** 选中的日期字符串（可选） */\n  selectedDate?: string;\n}\n\nconst WEEKDAYS = ['一', '二', '三', '四', '五', '六', '日'];\n\nexport const CalendarGrid: React.FC<CalendarGridProps> = ({\n  currentDate,\n  cells,\n  todayStr,\n  onCellClick,\n  selectedDate\n}) => {\n  return (\n    <div className=\"relative z-0 grid grid-cols-7 gap-1 bg-white/30 p-2 rounded-[2.5rem] border border-white/50 shadow-inner\">\n      {/* 星期标题 */}\n      {WEEKDAYS.map((day, idx) => (\n        <div\n          key={day}\n          className={`py-2 text-center text-[10px] font-black uppercase tracking-widest ${\n            idx >= 5 ? 'text-[#f67280]' : 'text-[#8eb69b]'\n          }`}\n          aria-label={`星期${day}`}\n        >\n          {day}\n        </div>\n      ))}\n\n      {/* 日期单元格 */}\n      {cells.map((cell, idx) => (\n        <CalendarCell\n          key={idx}\n          cell={cell}\n          todayStr={todayStr}\n          isSelected={selectedDate === cell.date}\n          onClick={() => onCellClick(cell)}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default CalendarGrid;\n","'use client';\n\nimport React, { useState, useRef, useEffect, useMemo } from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { createPortal } from 'react-dom';\n\ninterface CalendarControlProps {\n  /** 当前显示的日期 */\n  currentDate: Date;\n  /** 月份变更回调（offset: 正数前进，负数后退） */\n  onMonthChange: (offset: number) => void;\n  /** 日期变更回调 */\n  onDateChange: (date: Date) => void;\n  /** 最小年份 */\n  minYear?: number;\n  /** 最大年份 */\n  maxYear?: number;\n}\n\nexport const CalendarControl: React.FC<CalendarControlProps> = ({\n  currentDate,\n  onMonthChange,\n  onDateChange,\n  minYear = 2019,\n  maxYear\n}) => {\n  const [showYearSelector, setShowYearSelector] = useState(false);\n  const [tempYear, setTempYear] = useState(currentDate.getFullYear());\n  const [tempMonth, setTempMonth] = useState(currentDate.getMonth());\n  const [mounted, setMounted] = useState(false);\n  \n  const selectorRef = useRef<HTMLDivElement>(null);\n\n  const actualMaxYear = maxYear || new Date().getFullYear();\n\n  // 计算可用的年份范围\n  const yearRange = useMemo(() => {\n    return Array.from({ length: actualMaxYear - minYear + 1 }, (_, i) => minYear + i);\n  }, [minYear, actualMaxYear]);\n\n  // 客户端挂载后才渲染 Portal\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // 当选择器打开时，同步当前日期到临时状态\n  useEffect(() => {\n    if (showYearSelector) {\n      setTempYear(currentDate.getFullYear());\n      setTempMonth(currentDate.getMonth());\n    }\n  }, [showYearSelector, currentDate]);\n\n  // 点击外部关闭选择器\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (selectorRef.current && !selectorRef.current.contains(event.target as Node)) {\n        setShowYearSelector(false);\n      }\n    };\n\n    if (showYearSelector) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showYearSelector]);\n\n  // 选择年份 - 立即更新日期但不关闭选择器\n  const handleYearSelect = (year: number) => {\n    setTempYear(year);\n    onDateChange(new Date(year, tempMonth, 1));\n  };\n\n  // 选择月份 - 更新日期并关闭选择器\n  const handleMonthSelect = (month: number) => {\n    setTempMonth(month);\n    onDateChange(new Date(tempYear, month, 1));\n    setShowYearSelector(false);\n  };\n\n  // 点击今天按钮\n  const handleTodayClick = () => {\n    const today = new Date();\n    onDateChange(new Date(today.getFullYear(), today.getMonth(), 1));\n    setShowYearSelector(false);\n  };\n\n  // 选择器弹窗（使用 Portal 渲染到 body）\n  const selectorModal = showYearSelector && mounted ? (\n    createPortal(\n      <>\n        {/* 全屏遮罩 */}\n        <div \n          className=\"fixed inset-0 bg-black/20 backdrop-blur-sm\"\n          style={{ zIndex: 9999 }}\n          onClick={() => setShowYearSelector(false)} \n        />\n        \n        {/* 选择器容器 - 屏幕居中 */}\n        <div\n          ref={selectorRef}\n          className=\"fixed bg-white rounded-[2rem] shadow-[0_8px_32px_rgba(0,0,0,0.12)] border-2 border-[#f2f9f1] p-5 w-[320px] max-w-[calc(100vw-40px)]\"\n          style={{\n            zIndex: 10000,\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)'\n          }}\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* 年份选择 */}\n          <div className=\"mb-4\">\n            <div className=\"text-xs font-black text-[#8eb69b] uppercase tracking-[0.2em] mb-2\">Year</div>\n            <div className=\"grid grid-cols-3 sm:grid-cols-4 gap-3\">\n              {yearRange.map(year => (\n                <button\n                  key={year}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleYearSelect(year);\n                  }}\n                  className={`h-12 flex items-center justify-center rounded-xl text-sm font-black transition-all ${\n                    tempYear === year\n                      ? 'bg-[#d97706] text-white shadow-lg shadow-[#d97706]/30'\n                      : 'bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-800'\n                  }`}\n                >\n                  {year}\n                </button>\n              ))}\n            </div>\n          </div>\n          \n          {/* 月份选择 */}\n          <div>\n            <div className=\"text-xs font-black text-[#8eb69b] uppercase tracking-[0.2em] mb-2\">Month</div>\n            <div className=\"grid grid-cols-3 gap-3\">\n              {Array.from({ length: 12 }, (_, i) => i + 1).map(month => (\n                <button\n                  key={month}\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleMonthSelect(month - 1);\n                  }}\n                  className={`h-12 flex items-center justify-center rounded-xl text-sm font-black transition-all ${\n                    tempMonth === month - 1\n                      ? 'bg-[#d97706] text-white shadow-lg shadow-[#d97706]/30'\n                      : 'bg-gray-50 text-gray-600 hover:bg-gray-100 hover:text-gray-800'\n                  }`}\n                >\n                  {month}\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      </>,\n      document.body\n    )\n  ) : null;\n\n  return (\n    <>\n      <div className=\"flex items-center gap-3 bg-white/60 p-2 rounded-3xl border border-white\">\n        <button\n          onClick={() => onMonthChange(-1)}\n          className=\"p-3 hover:bg-white rounded-2xl text-[#8eb69b] transition-all\"\n          aria-label=\"上个月\"\n        >\n          <ChevronLeft size={20} />\n        </button>\n\n        <button\n          onClick={() => setShowYearSelector(!showYearSelector)}\n          className=\"px-4 py-2 hover:bg-white rounded-2xl text-[#4a3728] font-black tabular-nums transition-all flex items-center gap-2\"\n          aria-label=\"选择年月\"\n        >\n          {currentDate.getFullYear()}年 {currentDate.getMonth() + 1}月\n          <ChevronRight \n            size={14} \n            className={`transform transition-transform ${showYearSelector ? 'rotate-90' : ''}`} \n          />\n        </button>\n\n        <button\n          onClick={() => onMonthChange(1)}\n          className=\"p-3 hover:bg-white rounded-2xl text-[#8eb69b] transition-all\"\n          aria-label=\"下个月\"\n        >\n          <ChevronRight size={20} />\n        </button>\n\n        <button\n          onClick={handleTodayClick}\n          className=\"px-4 py-2 bg-gray-50 hover:bg-[#d97706] hover:text-white rounded-2xl text-gray-600 font-black transition-all flex items-center gap-2 border border-gray-200\"\n          aria-label=\"回到今天\"\n        >\n          今天\n        </button>\n      </div>\n\n      {/* 选择器弹窗（Portal 渲染到 body） */}\n      {selectorModal}\n    </>\n  );\n};\n\nexport default CalendarControl;\n","'use client';\n\nimport React from 'react';\nimport { Calendar } from 'lucide-react';\n\ninterface LivestreamHeaderProps {\n  /** 页面标题 */\n  title?: string;\n  /** 页面描述 */\n  description?: string;\n}\n\nexport const LivestreamHeader: React.FC<LivestreamHeaderProps> = ({\n  title = '直播纪事',\n  description = 'The Forest Archives'\n}) => {\n  return (\n    <div className=\"flex items-center gap-6\">\n      <div className=\"bg-[#f8b195] text-white p-4 rounded-3xl shadow-lg shadow-[#f8b195]/20 animate-pulse\">\n        <Calendar size={24} />\n      </div>\n      <div>\n        <h1 className=\"text-3xl font-black text-[#4a3728] tracking-tighter\">{title}</h1>\n        <p className=\"text-xs text-[#8eb69b] font-black uppercase tracking-[0.2em]\">{description}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default LivestreamHeader;\n","'use client';\n\nimport { useState, useEffect, useMemo, useCallback } from 'react';\nimport { livestreamRepository } from '@/app/infrastructure/repositories';\nimport { Livestream } from '@/app/domain/types';\nimport { CalendarCellData } from '../components/CalendarCell';\n\ninterface UseLivestreamDataReturn {\n  /** 当前日期（月份的第一天） */\n  currentDate: Date;\n  /** 直播记录列表 */\n  lives: Livestream[];\n  /** 加载状态 */\n  loading: boolean;\n  /** 错误信息 */\n  error: string | null;\n  /** 日历单元格数据 */\n  calendarCells: CalendarCellData[];\n  /** 今天的日期字符串（YYYY-MM-DD格式） */\n  todayStr: string;\n  /** 最小年份 */\n  minYear: number;\n  /** 最大年份 */\n  maxYear: number;\n  /** 月份变更（offset: 正数前进，负数后退） */\n  changeMonth: (offset: number) => void;\n  /** 设置日期 */\n  setCurrentDate: (date: Date) => void;\n  /** 加载指定年月的直播数据 */\n  loadLives: (year: number, month: number) => Promise<void>;\n  /** 刷新当前月份数据 */\n  refresh: () => Promise<void>;\n}\n\nexport const useLivestreamData = (): UseLivestreamDataReturn => {\n  const [currentDate, setCurrentDate] = useState(() => {\n    const today = new Date();\n    return new Date(today.getFullYear(), today.getMonth(), 1);\n  });\n\n  const [lives, setLives] = useState<Livestream[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [minYear, setMinYear] = useState(2019);\n\n  const maxYear = useMemo(() => new Date().getFullYear(), []);\n\n  const todayStr = useMemo(() => {\n    const today = new Date();\n    return `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;\n  }, []);\n\n  const daysInMonth = useMemo(() => {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    const firstDay = new Date(year, month, 1).getDay() || 7;\n    const days = new Date(year, month + 1, 0).getDate();\n    return { firstDay, days };\n  }, [currentDate]);\n\n  const calendarCells = useMemo(() => {\n    const cells: CalendarCellData[] = [];\n\n    try {\n      // 空白单元格\n      for (let i = 1; i < daysInMonth.firstDay; i++) {\n        cells.push({ day: null, date: '' });\n      }\n\n      // 日期单元格\n      for (let i = 1; i <= daysInMonth.days; i++) {\n        const dateStr = `${currentDate.getFullYear()}-${String(currentDate.getMonth() + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;\n        // 确保 lives 是数组\n        const live = Array.isArray(lives) ? lives.find(l => l?.date === dateStr) : undefined;\n        cells.push({ day: i, date: dateStr, live });\n      }\n    } catch (err) {\n      console.error('生成日历单元格失败:', err);\n    }\n\n    return cells;\n  }, [daysInMonth, lives, currentDate]);\n\n  const loadLives = useCallback(async (year: number, month: number): Promise<void> => {\n    // 验证参数\n    if (!year || !month || month < 1 || month > 12) {\n      setError('日期参数无效');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const result = await livestreamRepository.getLivestreams({\n        year,\n        month,\n        limit: 100\n      });\n      \n      // 确保数据是数组\n      const data = Array.isArray(result.livestreams) ? result.livestreams : [];\n      setLives(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : '加载失败，请稍后重试');\n      setLives([]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const changeMonth = useCallback((offset: number) => {\n    // 限制 offset 范围，防止跳转到无效日期\n    if (offset === 0) return;\n    \n    setCurrentDate(prev => {\n      const newDate = new Date(\n        prev.getFullYear(),\n        prev.getMonth() + offset,\n        1\n      );\n      // 限制年份范围\n      const year = newDate.getFullYear();\n      if (year < minYear) {\n        return new Date(minYear, 0, 1);\n      }\n      if (year > maxYear) {\n        return new Date(maxYear, 11, 1);\n      }\n      return newDate;\n    });\n  }, [minYear, maxYear]);\n\n  const refresh = useCallback(async () => {\n    await loadLives(currentDate.getFullYear(), currentDate.getMonth() + 1);\n  }, [currentDate, loadLives]);\n\n  // 获取配置（最小年份）\n  useEffect(() => {\n    const fetchConfig = async () => {\n      try {\n        const config = await livestreamRepository.getConfig();\n        setMinYear(config.minYear);\n      } catch (err) {\n        console.error('获取直播配置失败:', err);\n      }\n    };\n    fetchConfig();\n  }, []);\n\n  useEffect(() => {\n    loadLives(currentDate.getFullYear(), currentDate.getMonth() + 1);\n  }, [currentDate, loadLives]);\n\n  return {\n    currentDate,\n    lives,\n    loading,\n    error,\n    calendarCells,\n    todayStr,\n    minYear,\n    maxYear,\n    changeMonth,\n    setCurrentDate,\n    loadLives,\n    refresh\n  };\n};\n\nexport default useLivestreamData;\n","'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\n\ninterface LazyImageProps {\n    src: string;\n    alt: string;\n    placeholder?: string;\n    className?: string;\n    style?: React.CSSProperties;\n    onLoad?: () => void;\n    onError?: () => void;\n}\n\nconst DEFAULT_PLACEHOLDER = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjVmNWY1Ii8+PC9zdmc+';\n\n/**\n * 懒加载图片组件\n * 使用 Intersection Observer API 实现图片懒加载\n */\nexport function LazyImage({\n    src,\n    alt,\n    placeholder = DEFAULT_PLACEHOLDER,\n    className = '',\n    style = {},\n    onLoad,\n    onError,\n}: LazyImageProps) {\n    const [imageSrc, setImageSrc] = useState(placeholder);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const imgRef = useRef<HTMLImageElement>(null);\n\n    useEffect(() => {\n        // 如果浏览器不支持 Intersection Observer，直接加载图片\n        if (typeof window === 'undefined' || !window.IntersectionObserver) {\n            setImageSrc(src);\n            return;\n        }\n\n        const observer = new IntersectionObserver(\n            (entries) => {\n                entries.forEach((entry) => {\n                    if (entry.isIntersecting) {\n                        // 图片进入视口，开始加载\n                        setImageSrc(src);\n                        observer.disconnect();\n                    }\n                });\n            },\n            {\n                rootMargin: '100px', // 提前 100px 开始加载\n                threshold: 0.1,\n            }\n        );\n\n        if (imgRef.current) {\n            observer.observe(imgRef.current);\n        }\n\n        return () => observer.disconnect();\n    }, [src]);\n\n    const handleLoad = () => {\n        setIsLoaded(true);\n        onLoad?.();\n    };\n\n    const handleError = () => {\n        setImageSrc(placeholder);\n        onError?.();\n    };\n\n    return (\n        <img\n            ref={imgRef}\n            src={imageSrc}\n            alt={alt}\n            className={className}\n            style={{\n                ...style,\n                opacity: isLoaded ? 1 : 0.5,\n                transition: 'opacity 0.3s ease-in-out',\n            }}\n            onLoad={handleLoad}\n            onError={handleError}\n        />\n    );\n}\n","'use client';\n\nimport React, { useState, useMemo, useRef, useCallback } from 'react';\nimport { Livestream, Screenshot } from '@/app/domain/types';\nimport {\n  Calendar as CalendarIcon, Clock, MessageSquare, Image as ImageIcon,\n  ChevronLeft, ChevronRight, BarChart3, Cloud, Users, Heart,\n  PlayCircle, Music, Monitor, Maximize2, Layers, X\n} from 'lucide-react';\nimport { LazyImage } from '@/app/shared/components/LazyImage';\n\ninterface LiveDetailProps {\n  /** 直播记录 */\n  live: Livestream;\n}\n\n/**\n * 获取 B站视频的嵌入播放 URL\n */\nfunction getBilibiliEmbedUrl(url: string): string {\n  if (!url) return '';\n  // 解析 BV 号\n  const bvidMatch = url.match(/BV[\\w]+/);\n  if (!bvidMatch) return url;\n  \n  const bvid = bvidMatch[0];\n  // 解析分P参数\n  const pageMatch = url.match(/[?&]p=(\\d+)/);\n  const page = pageMatch ? pageMatch[1] : '1';\n  \n  return `https://player.bilibili.com/player.html?bvid=${bvid}&page=${page}`;\n}\n\nexport const LiveDetail: React.FC<LiveDetailProps> = ({ live }) => {\n  // 分段视频索引\n  const [selectedRecordingIndex, setSelectedRecordingIndex] = useState(0);\n  // 当前激活的截图\n  const [activeScreenshot, setActiveScreenshot] = useState<Screenshot | null>(\n    live.screenshots && live.screenshots.length > 0 ? live.screenshots[0] : null\n  );\n  // 播放器是否已加载（懒加载）\n  const [playerLoaded, setPlayerLoaded] = useState(false);\n  // 是否正在查看弹幕云图全屏\n  const [viewingCloud, setViewingCloud] = useState(false);\n  // 视频弹窗 URL\n  const [videoModalUrl, setVideoModalUrl] = useState<string | null>(null);\n  \n  // 缩略图列表引用\n  const thumbnailListRef = useRef<HTMLDivElement>(null);\n\n  // 录制列表（分段视频）\n  const recordings = useMemo(() => {\n    if (!live) return [];\n    \n    // 优先使用后端返回的 recordings\n    if (live.recordings && live.recordings.length > 0) {\n      return live.recordings;\n    }\n    \n    // Fallback：从 bvid 生成\n    if (live.bvid) {\n      const parts = live.parts || 1;\n      const recs = [];\n      for (let i = 1; i <= parts; i++) {\n        recs.push({\n          title: i === 1 ? live.title || '直播回放' : `${live.title || '直播回放'} - P${i}`,\n          url: `https://www.bilibili.com/video/${live.bvid}${i > 1 ? `?p=${i}` : ''}`\n        });\n      }\n      return recs;\n    }\n    \n    return [];\n  }, [live]);\n\n  // 当前播放的视频 URL\n  const currentVideoUrl = useMemo(() => {\n    if (recordings.length > 0) {\n      const recording = recordings[selectedRecordingIndex];\n      if (recording?.url) {\n        return getBilibiliEmbedUrl(recording.url);\n      }\n    }\n    return '';\n  }, [recordings, selectedRecordingIndex]);\n\n  // 截图切换 - 上一张\n  const handlePrevScreenshot = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (!live.screenshots || !activeScreenshot) return;\n    const currentIndex = live.screenshots.findIndex(s => s.thumbnailUrl === activeScreenshot.thumbnailUrl);\n    if (currentIndex === -1) return;\n    const prevIndex = currentIndex === 0 ? live.screenshots.length - 1 : currentIndex - 1;\n    setActiveScreenshot(live.screenshots[prevIndex]);\n    \n    // 滚动到可视范围\n    setTimeout(() => {\n      const buttons = thumbnailListRef.current?.querySelectorAll('button');\n      if (buttons && buttons[prevIndex]) {\n        buttons[prevIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });\n      }\n    }, 50);\n  }, [live.screenshots, activeScreenshot]);\n\n  // 截图切换 - 下一张\n  const handleNextScreenshot = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (!live.screenshots || !activeScreenshot) return;\n    const currentIndex = live.screenshots.findIndex(s => s.thumbnailUrl === activeScreenshot.thumbnailUrl);\n    if (currentIndex === -1) return;\n    const nextIndex = currentIndex === live.screenshots.length - 1 ? 0 : currentIndex + 1;\n    setActiveScreenshot(live.screenshots[nextIndex]);\n    \n    // 滚动到可视范围\n    setTimeout(() => {\n      const buttons = thumbnailListRef.current?.querySelectorAll('button');\n      if (buttons && buttons[nextIndex]) {\n        buttons[nextIndex].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });\n      }\n    }, 50);\n  }, [live.screenshots, activeScreenshot]);\n\n  // 切换分段视频\n  const handleRecordingChange = useCallback((index: number) => {\n    setSelectedRecordingIndex(index);\n    // 切换分段时重置播放器\n    if (playerLoaded) {\n      setPlayerLoaded(false);\n      setTimeout(() => setPlayerLoaded(true), 0);\n    }\n  }, [playerLoaded]);\n\n  // 歌切列表\n  const songCuts = live.songCuts || [];\n\n  return (\n    <>\n      <div className=\"space-y-12 animate-in slide-in-from-bottom-8 duration-700\" id=\"live-detail\">\n\n        {/* 第一排：核心大标题与关键指标 */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8 items-stretch\">\n          <div className=\"lg:col-span-8 bg-white/40 p-8 md:p-10 rounded-[3.5rem] border-4 border-white shadow-2xl backdrop-blur-md flex flex-col justify-center gap-6 relative overflow-hidden\">\n            {/* 背景装饰文字 */}\n            <div className=\"absolute -right-10 -bottom-10 text-[180px] font-black text-[#f8b195]/5 pointer-events-none select-none\">MEMORY</div>\n            \n            <div className=\"space-y-8 relative z-10\">\n              {/* 小标签 */}\n              <div className=\"inline-flex items-center gap-3 px-5 py-2 bg-[#fef5f0] rounded-full text-[#f8b195] w-fit border border-[#f8b195]/20 shadow-sm\">\n                <Monitor size={20} />\n                <span className=\"text-xs font-black uppercase tracking-[0.3em]\">Official Archive</span>\n              </div>\n\n              {/* 核心大标题：日期 + 直播档案 */}\n              <h2 className=\"text-4xl md:text-5xl lg:text-6xl font-black text-[#4a3728] tracking-tighter leading-none\">\n                {live.date} <span className=\"text-[#f8b195] block md:inline mt-2 md:mt-0\">直播档案</span>\n              </h2>\n\n              {/* 描述 */}\n              <p className=\"text-xl md:text-2xl text-[#8eb69b] font-bold leading-relaxed tracking-tight max-w-4xl\">\n                {live.summary || `${live.date} 的精彩直播时刻`}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"lg:col-span-4 grid grid-cols-2 gap-4\">\n            {/* 弹幕数 */}\n            <div className=\"bg-white/40 p-6 rounded-[2.5rem] border-4 border-white shadow-xl backdrop-blur-md flex flex-col items-center justify-center text-center space-y-2 col-span-2\">\n              <Heart size={24} className=\"text-[#f67280]\" />\n              <span className=\"text-[10px] font-black text-[#8eb69b] uppercase tracking-widest\">总弹幕数</span>\n              <span className=\"text-2xl font-black text-[#4a3728]\">{live.danmakuCount || 'N/A'}</span>\n            </div>\n            \n            {/* 时间信息 */}\n            <div className=\"bg-white/40 p-6 rounded-[2.5rem] border-4 border-white shadow-xl backdrop-blur-md flex flex-col items-center justify-center text-center space-y-2 col-span-2\">\n              <div className=\"flex items-center gap-4 w-full justify-around px-4\">\n                <div className=\"flex flex-col items-center\">\n                  <span className=\"text-[9px] font-black text-[#8eb69b] uppercase tracking-widest mb-1\">开播</span>\n                  <span className=\"text-lg font-black text-[#4a3728] tabular-nums\">{live.startTime || 'N/A'}</span>\n                </div>\n                <div className=\"w-px h-8 bg-gray-100\"></div>\n                <div className=\"flex flex-col items-center\">\n                  <span className=\"text-[9px] font-black text-[#8eb69b] uppercase tracking-widest mb-1\">直播时长</span>\n                  <span className=\"text-sm font-black text-[#f8b195] bg-[#fef5f0] px-3 py-1 rounded-full\">{live.duration || 'N/A'}</span>\n                </div>\n                <div className=\"w-px h-8 bg-gray-100\"></div>\n                <div className=\"flex flex-col items-center\">\n                  <span className=\"text-[9px] font-black text-[#8eb69b] uppercase tracking-widest mb-1\">下播</span>\n                  <span className=\"text-lg font-black text-[#4a3728] tabular-nums\">{live.endTime || 'N/A'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 第二排：分段视频播放器与歌切列表 */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-10 lg:items-start\">\n          {/* 完整录像看板 */}\n          <div className=\"lg:col-span-8 space-y-6\">\n            <div className=\"flex items-center justify-between px-4\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-2 h-6 bg-[#f8b195] rounded-full\"></div>\n                <h3 className=\"text-2xl font-black text-[#4a3728] tracking-tight\">完整回放档案</h3>\n              </div>\n              {recordings.length > 0 && currentVideoUrl && (\n                <button\n                  onClick={() => setVideoModalUrl(currentVideoUrl)}\n                  className=\"text-xs font-black text-[#8eb69b] hover:text-[#f8b195] transition-colors flex items-center gap-2\"\n                >\n                  <Maximize2 size={14} /> 全屏播放\n                </button>\n              )}\n            </div>\n\n            {/* 多分段选择器 */}\n            {recordings.length > 1 && (\n              <div className=\"flex flex-wrap gap-3 bg-white/40 p-3 rounded-3xl border-2 border-white shadow-sm\">\n                <div className=\"flex items-center gap-2 px-3 text-[#f8b195] text-[10px] font-black uppercase tracking-widest border-r border-[#f8b195]/20 mr-1\">\n                  <Layers size={14} /> 视频分段\n                </div>\n                {recordings.map((rec, idx) => (\n                  <button\n                    key={idx}\n                    onClick={() => handleRecordingChange(idx)}\n                    className={`px-4 py-2 rounded-2xl text-[11px] font-black transition-all ${\n                      selectedRecordingIndex === idx \n                        ? 'bg-[#f8b195] text-white shadow-md' \n                        : 'bg-white/60 text-[#8eb69b] hover:bg-white border border-white'\n                    }`}\n                  >\n                    {rec.title}\n                  </button>\n                ))}\n              </div>\n            )}\n\n            {/* 视频播放器 */}\n            <div className=\"aspect-video bg-black rounded-[3.5rem] overflow-hidden border-4 border-white shadow-2xl relative group\">\n              {!playerLoaded && currentVideoUrl ? (\n                // 未加载时显示封面和播放按钮\n                <div\n                  className=\"w-full h-full flex flex-col items-center justify-center bg-gray-900 cursor-pointer\"\n                  onClick={() => setPlayerLoaded(true)}\n                >\n                  {live.coverUrl && (\n                    <img\n                      src={live.coverUrl}\n                      alt=\"Cover\"\n                      className=\"absolute inset-0 w-full h-full object-cover\"\n                    />\n                  )}\n                  <div className=\"relative z-10 flex flex-col items-center gap-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    <div className=\"w-20 h-20 bg-[#f8b195] rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform\">\n                      <PlayCircle size={40} className=\"text-white\" />\n                    </div>\n                    <span className=\"text-[#8eb69b] font-black text-sm\">点击播放</span>\n                  </div>\n                </div>\n              ) : currentVideoUrl ? (\n                // 已加载时显示播放器\n                <iframe\n                  key={currentVideoUrl}\n                  src={currentVideoUrl}\n                  className=\"w-full h-full border-0\"\n                  allowFullScreen\n                ></iframe>\n              ) : (\n                <div className=\"w-full h-full flex flex-col items-center justify-center text-[#8eb69b] bg-gray-900\">\n                  <PlayCircle size={48} className=\"mb-4 opacity-50\" />\n                  <p className=\"text-sm font-black tracking-wider\">暂无回放录像</p>\n                  <p className=\"text-xs font-black opacity-60 mt-2\">欢迎联系投稿</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* 当日歌切列表 */}\n          <div className=\"lg:col-span-4 space-y-6\">\n            <div className=\"flex items-center gap-3 px-4\">\n              <div className=\"w-2 h-6 bg-[#8eb69b] rounded-full\"></div>\n              <h3 className=\"text-2xl font-black text-[#4a3728] tracking-tight\">时光歌切</h3>\n            </div>\n            <div className=\"bg-white/40 rounded-[3rem] border-4 border-white shadow-xl overflow-hidden flex flex-col\" style={{ height: '540px' }}>\n              <div className=\"p-6 bg-[#f2f9f1]/40 border-b border-white\">\n                <span className=\"text-[10px] font-black text-[#8eb69b] uppercase tracking-[0.3em]\">Tracks from Today</span>\n              </div>\n              <div className=\"overflow-y-auto custom-scrollbar p-6 space-y-4 flex-1\">\n                {songCuts.length > 0 ? (\n                  songCuts.map((cut, idx) => (\n                    <button\n                      key={idx}\n                      onClick={() => cut.url && setVideoModalUrl(getBilibiliEmbedUrl(cut.url))}\n                      className=\"w-full flex items-center gap-4 p-4 bg-white/60 hover:bg-white rounded-3xl border border-white transition-all group hover:shadow-md text-left\"\n                      disabled={!cut.url}\n                    >\n                      {/* 封面缩略图 */}\n                      {cut.coverThumbnailUrl ? (\n                        <div className=\"w-10 h-10 rounded-2xl overflow-hidden shrink-0 group-hover:rotate-6 transition-transform\">\n                          <LazyImage src={cut.coverThumbnailUrl} className=\"w-full h-full object-cover\" alt=\"\" />\n                        </div>\n                      ) : (\n                        <div className=\"w-10 h-10 bg-[#fef5f0] text-[#f8b195] rounded-2xl flex items-center justify-center shrink-0 group-hover:rotate-6 transition-transform\">\n                          <Music size={18} />\n                        </div>\n                      )}\n                      <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"font-black text-[#4a3728] group-hover:text-[#f8b195] transition-colors truncate\">\n                          {cut.song_name || '未命名歌曲'}\n                        </h4>\n                        <span className=\"text-[9px] font-black text-[#8eb69b] uppercase tracking-widest opacity-60\">\n                          {cut.performed_at}\n                        </span>\n                      </div>\n                      {cut.url && <PlayCircle size={20} className=\"text-[#f8b195] opacity-0 group-hover:opacity-100 transition-all\" />}\n                    </button>\n                  ))\n                ) : (\n                  <div className=\"h-full flex flex-col items-center justify-center text-center py-12\">\n                    <Music size={40} className=\"mb-4 text-[#8eb69b] opacity-50\" />\n                    <p className=\"text-sm font-black text-[#8eb69b] tracking-wider\">暂无演唱记录</p>\n                    <p className=\"text-xs font-black text-[#8eb69b] opacity-60 mt-2\">欢迎联系投稿</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 第三排：直播截图与弹幕云图 */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-10\">\n          {/* 直播截图回顾 */}\n          <div className=\"lg:col-span-7 space-y-6\">\n            <div className=\"flex items-center gap-3 px-4\">\n              <div className=\"w-2 h-6 bg-[#f8b195] rounded-full\"></div>\n              <h3 className=\"text-2xl font-black text-[#4a3728] tracking-tight\">瞬间定格</h3>\n            </div>\n            <div className=\"bg-white/40 rounded-[3.5rem] border-4 border-white shadow-xl p-8 space-y-6\">\n              <div className=\"aspect-[16/10] rounded-[2.5rem] overflow-hidden bg-black/5 border-2 border-white shadow-inner relative group\">\n                {live.screenshots && live.screenshots.length > 0 ? (\n                  <LazyImage \n                    src={activeScreenshot?.thumbnailUrl || live.coverUrl || ''} \n                    className=\"w-full h-full object-cover animate-in fade-in zoom-in-95 duration-500\" \n                    alt=\"Archive\" \n                  />\n                ) : (\n                  <div className=\"w-full h-full flex flex-col items-center justify-center text-[#8eb69b] bg-gray-900\">\n                    <ImageIcon size={48} className=\"mb-4 opacity-50\" />\n                    <p className=\"text-sm font-black tracking-wider\">暂无图片</p>\n                    <p className=\"text-xs font-black opacity-60 mt-2\">欢迎联系投稿</p>\n                  </div>\n                )}\n                \n                {/* 左右切换按钮 */}\n                {live.screenshots && live.screenshots.length > 1 && (\n                  <>\n                    <button \n                      onClick={handlePrevScreenshot}\n                      className=\"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/30 hover:bg-white text-white hover:text-[#f8b195] backdrop-blur-md rounded-full transition-all opacity-0 group-hover:opacity-100 shadow-lg border border-white/40 transform active:scale-90\"\n                    >\n                      <ChevronLeft size={24} strokeWidth={3} />\n                    </button>\n                    <button \n                      onClick={handleNextScreenshot}\n                      className=\"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/30 hover:bg-white text-white hover:text-[#f8b195] backdrop-blur-md rounded-full transition-all opacity-0 group-hover:opacity-100 shadow-lg border border-white/40 transform active:scale-90\"\n                    >\n                      <ChevronRight size={24} strokeWidth={3} />\n                    </button>\n                  </>\n                )}\n\n                {/* 图片索引指示器 */}\n                {live.screenshots && live.screenshots.length > 0 && activeScreenshot && (\n                  <div className=\"absolute bottom-4 right-4 px-3 py-1 bg-black/50 backdrop-blur-md rounded-full text-white text-[10px] font-black tracking-widest opacity-0 group-hover:opacity-100 transition-opacity\">\n                    {(live.screenshots.findIndex(s => s.thumbnailUrl === activeScreenshot.thumbnailUrl) + 1)} / {live.screenshots.length}\n                  </div>\n                )}\n              </div>\n              \n              {/* 缩略图列表 */}\n              {live.screenshots && live.screenshots.length > 1 && (\n                <div ref={thumbnailListRef} className=\"flex gap-4 overflow-x-auto pb-2 custom-scrollbar px-2\">\n                  {live.screenshots.map((s, idx) => (\n                    <button\n                      key={idx}\n                      onClick={(e) => {\n                        setActiveScreenshot(s);\n                        setTimeout(() => {\n                          e.currentTarget.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });\n                        }, 50);\n                      }}\n                      className={`w-32 aspect-video rounded-2xl overflow-hidden shrink-0 border-4 transition-all ${\n                        activeScreenshot?.thumbnailUrl === s.thumbnailUrl \n                          ? 'border-[#f8b195] shadow-lg scale-105' \n                          : 'border-white opacity-60 hover:opacity-100'\n                      }`}\n                    >\n                      <LazyImage src={s.thumbnailUrl} className=\"w-full h-full object-cover\" alt=\"\" />\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* 弹幕词云分析 */}\n          <div className=\"lg:col-span-5 space-y-6\">\n            <div className=\"flex items-center gap-3 px-4\">\n              <div className=\"w-2 h-6 bg-[#8eb69b] rounded-full\"></div>\n              <h3 className=\"text-2xl font-black text-[#4a3728] tracking-tight\">弹幕热语</h3>\n            </div>\n            <div className=\"bg-white/40 rounded-[3.5rem] border-4 border-white shadow-xl p-10 flex flex-col h-full bg-gradient-to-br from-white to-[#f2f9f1]/50 backdrop-blur-md\">\n              <div className=\"flex-1 flex flex-col items-center justify-center gap-8\">\n                <div className=\"w-full\">\n                  {live.danmakuCloudUrl ? (\n                    <div \n                      className=\"relative group w-full cursor-pointer\" \n                      onClick={() => setViewingCloud(true)}\n                    >\n                      <div className=\"absolute inset-0 bg-[#8eb69b]/20 blur-[60px] opacity-40 group-hover:opacity-100 transition-opacity\"></div>\n                      <img \n                        src={live.danmakuCloudUrl} \n                        className=\"w-full aspect-[4/3] object-cover rounded-[2.5rem] border-4 border-white shadow-2xl relative z-10 transition-transform group-hover:scale-[1.02]\" \n                        alt=\"Cloud\" \n                      />\n                      {/* Hover Overlay */}\n                      <div className=\"absolute inset-0 z-20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                        <div className=\"w-16 h-16 bg-black/30 backdrop-blur-sm rounded-full flex items-center justify-center text-white border border-white/20 shadow-lg transform scale-75 group-hover:scale-100 transition-transform\">\n                          <Maximize2 size={24} />\n                        </div>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"w-full aspect-[4/3] flex flex-col items-center justify-center text-[#8eb69b] bg-gray-900 rounded-[2.5rem] border-4 border-white shadow-2xl\">\n                      <Cloud size={48} className=\"mb-4 opacity-50\" />\n                      <p className=\"text-sm font-black tracking-wider\">暂无弹幕云图</p>\n                      <p className=\"text-xs font-black opacity-60 mt-2\">欢迎联系投稿</p>\n                    </div>\n                  )}\n                </div>\n                {/* 提示语始终显示 */}\n                <div className=\"text-center space-y-2\">\n                  <div className=\"inline-flex items-center gap-2 px-4 py-1.5 bg-[#fef5f0] rounded-full text-[#f8b195] text-[10px] font-black uppercase tracking-widest border border-[#f8b195]/10\">\n                    <Cloud size={14} /> Emotion Analysis\n                  </div>\n                  <p className=\"text-sm font-bold text-[#4a3728]/70 leading-relaxed max-w-xs mx-auto\">\n                    每一个跳动的热词，都是满满与粉丝间独一无二的心跳同频。\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* 视频弹窗 */}\n      {videoModalUrl && (\n        <div \n          className=\"fixed inset-0 z-[100] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4 md:p-10 animate-in fade-in duration-300\"\n          onClick={() => setVideoModalUrl(null)}\n        >\n          <button \n            className=\"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all z-50 hover:rotate-90 duration-300\"\n            onClick={() => setVideoModalUrl(null)}\n          >\n            <X size={28} />\n          </button>\n          \n          <div className=\"w-full max-w-5xl aspect-video\">\n            <iframe\n              src={videoModalUrl}\n              className=\"w-full h-full rounded-2xl\"\n              allowFullScreen\n              onClick={(e) => e.stopPropagation()}\n            ></iframe>\n          </div>\n          \n          <div className=\"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-white/50 pointer-events-none\">\n            <span className=\"text-xs font-black uppercase tracking-[0.5em]\">Video Player</span>\n            <span className=\"text-[10px] font-bold\">{live.date}</span>\n          </div>\n        </div>\n      )}\n\n      {/* 弹幕云图全屏查看模态框 */}\n      {viewingCloud && live.danmakuCloudUrl && (\n        <div \n          className=\"fixed inset-0 z-[200] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4 md:p-10 animate-in fade-in duration-300\"\n          onClick={() => setViewingCloud(false)}\n        >\n          <button \n            className=\"absolute top-6 right-6 p-3 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all z-50 hover:rotate-90 duration-300\"\n            onClick={() => setViewingCloud(false)}\n          >\n            <X size={28} />\n          </button>\n          \n          <img \n            src={live.danmakuCloudUrl} \n            className=\"max-w-full max-h-full object-contain rounded-2xl shadow-2xl animate-in zoom-in-95 duration-300\" \n            alt=\"Cloud Detail\" \n            onClick={(e) => e.stopPropagation()} \n          />\n          \n          <div className=\"absolute bottom-8 left-1/2 -translate-x-1/2 flex flex-col items-center gap-2 text-white/50 pointer-events-none\">\n            <span className=\"text-xs font-black uppercase tracking-[0.5em]\">Danmaku Cloud Analysis</span>\n            <span className=\"text-[10px] font-bold\">{live.date}</span>\n          </div>\n        </div>\n      )}\n\n      {/* 自定义滚动条样式 */}\n      <style>{`\n        .custom-scrollbar::-webkit-scrollbar { height: 6px; width: 6px; }\n        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #8eb69b33; border-radius: 10px; }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #8eb69b66; }\n      `}</style>\n    </>\n  );\n};\n\nexport default LiveDetail;","'use client';\n\nimport React, { useEffect } from 'react';\nimport { AlertCircle } from 'lucide-react';\nimport { ErrorBoundary, Loading } from '@/app/shared/components';\nimport { useLivestreamData, useLivestreamDetail } from './hooks';\nimport { \n  LivestreamHeader, \n  CalendarControl, \n  CalendarGrid, \n  LiveDetail \n} from './components';\n\n// 加载状态组件\nfunction LoadingState() {\n  return (\n    <div className=\"py-48 flex flex-col items-center gap-6\">\n      <div className=\"w-16 h-16 border-8 border-[#f8b195]/20 border-t-[#f8b195] rounded-full animate-spin\"></div>\n      <span className=\"text-[#8eb69b] font-black tracking-widest uppercase text-xs\">正在加载...</span>\n    </div>\n  );\n}\n\nexport default function LivestreamPageClient() {\n  const { \n    currentDate, \n    lives, \n    loading, \n    error, \n    changeMonth, \n    setCurrentDate,\n    loadLives, \n    calendarCells, \n    todayStr,\n    minYear,\n    maxYear\n  } = useLivestreamData();\n  \n  const { \n    selectedLive, \n    handleSelectLive, \n    clearSelection, \n    liveDetailRef \n  } = useLivestreamDetail();\n\n  // 当切换月份时，清除选中的直播\n  useEffect(() => {\n    clearSelection();\n  }, [currentDate, clearSelection]);\n\n  // 检查选中的直播是否在当前月份的数据中\n  useEffect(() => {\n    if (selectedLive) {\n      const stillExists = lives.some(live => live.date === selectedLive.date);\n      if (!stillExists) {\n        clearSelection();\n      }\n    }\n  }, [lives, selectedLive, clearSelection]);\n\n  return (\n    <ErrorBoundary>\n      <div className=\"max-w-7xl mx-auto px-4 py-8 space-y-12 animate-in fade-in duration-1000\">\n        {/* 顶部控制栏 */}\n        <div className=\"flex flex-col md:flex-row items-center justify-between gap-6 bg-white/40 p-6 rounded-[3rem] border-2 border-white shadow-xl backdrop-blur-md\">\n          <LivestreamHeader />\n          <CalendarControl\n            currentDate={currentDate}\n            onMonthChange={changeMonth}\n            onDateChange={setCurrentDate}\n            minYear={minYear}\n            maxYear={maxYear}\n          />\n        </div>\n\n        {/* 错误提示 */}\n        {error && (\n          <div className=\"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-2xl text-red-600\">\n            <AlertCircle className=\"w-5 h-5 flex-shrink-0\" />\n            <p className=\"text-sm font-bold\">{error}</p>\n          </div>\n        )}\n\n        {/* 日历网格 */}\n        {loading ? (\n          <LoadingState />\n        ) : (\n          <CalendarGrid\n            currentDate={currentDate}\n            cells={calendarCells}\n            todayStr={todayStr}\n            onCellClick={handleSelectLive}\n            selectedDate={selectedLive?.date}\n          />\n        )}\n\n        {/* 直播详情 */}\n        {selectedLive && !loading && <LiveDetail live={selectedLive} />}\n      </div>\n    </ErrorBoundary>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z',\n      key: 'zw3jo',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12',\n      key: '1wduqc',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17',\n      key: 'kqbvx6',\n    },\n  ],\n];\n\n/**\n * @component @name Layers\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuODMgMi4xOGEyIDIgMCAwIDAtMS42NiAwTDIuNiA2LjA4YTEgMSAwIDAgMCAwIDEuODNsOC41OCAzLjkxYTIgMiAwIDAgMCAxLjY2IDBsOC41OC0zLjlhMSAxIDAgMCAwIDAtMS44M3oiIC8+CiAgPHBhdGggZD0iTTIgMTJhMSAxIDAgMCAwIC41OC45MWw4LjYgMy45MWEyIDIgMCAwIDAgMS42NSAwbDguNTgtMy45QTEgMSAwIDAgMCAyMiAxMiIgLz4KICA8cGF0aCBkPSJNMiAxN2ExIDEgMCAwIDAgLjU4LjkxbDguNiAzLjkxYTIgMiAwIDAgMCAxLjY1IDBsOC41OC0zLjlBMSAxIDAgMCAwIDIyIDE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/layers\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Layers = createLucideIcon('layers', __iconNode);\n\nexport default Layers;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '20', height: '14', x: '2', y: '3', rx: '2', key: '48i651' }],\n  ['line', { x1: '8', x2: '16', y1: '21', y2: '21', key: '1svkeh' }],\n  ['line', { x1: '12', x2: '12', y1: '17', y2: '21', key: 'vw1qmm' }],\n];\n\n/**\n * @component @name Monitor\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjMiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSI4IiB4Mj0iMTYiIHkxPSIyMSIgeTI9IjIxIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTciIHkyPSIyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/monitor\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Monitor = createLucideIcon('monitor', __iconNode);\n\nexport default Monitor;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'm21 3-7 7', key: '1l2asr' }],\n  ['path', { d: 'm3 21 7-7', key: 'tjx5ai' }],\n  ['path', { d: 'M9 21H3v-6', key: 'wtvkvv' }],\n];\n\n/**\n * @component @name Maximize2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0ibTIxIDMtNyA3IiAvPgogIDxwYXRoIGQ9Im0zIDIxIDctNyIgLz4KICA8cGF0aCBkPSJNOSAyMUgzdi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/maximize-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Maximize2 = createLucideIcon('maximize-2', __iconNode);\n\nexport default Maximize2;\n"],"names":[],"mappings":"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","ignoreList":[9,10,11]}