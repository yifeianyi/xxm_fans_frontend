{"version":3,"sources":["../../../../app/presentation/components/common/PageDecorations.tsx/__nextjs-internal-proxy.mjs","../../../../app/gallery/components/GalleryDetailClient.tsx/__nextjs-internal-proxy.mjs","../../../../app/albums/%5Bid%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CornerDecoration = registerClientReference(\n    function() { throw new Error(\"Attempted to call CornerDecoration() from the server but CornerDecoration is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/presentation/components/common/PageDecorations.tsx\",\n    \"CornerDecoration\",\n);\nexport const DecorativeDivider = registerClientReference(\n    function() { throw new Error(\"Attempted to call DecorativeDivider() from the server but DecorativeDivider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/presentation/components/common/PageDecorations.tsx\",\n    \"DecorativeDivider\",\n);\nexport const FloatingNotes = registerClientReference(\n    function() { throw new Error(\"Attempted to call FloatingNotes() from the server but FloatingNotes is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/presentation/components/common/PageDecorations.tsx\",\n    \"FloatingNotes\",\n);\nexport const PageDecorations = registerClientReference(\n    function() { throw new Error(\"Attempted to call PageDecorations() from the server but PageDecorations is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/presentation/components/common/PageDecorations.tsx\",\n    \"PageDecorations\",\n);\nexport const TitleDecoration = registerClientReference(\n    function() { throw new Error(\"Attempted to call TitleDecoration() from the server but TitleDecoration is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/presentation/components/common/PageDecorations.tsx\",\n    \"TitleDecoration\",\n);\nexport const decorationConfigs = registerClientReference(\n    function() { throw new Error(\"Attempted to call decorationConfigs() from the server but decorationConfigs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/presentation/components/common/PageDecorations.tsx\",\n    \"decorationConfigs\",\n);\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/presentation/components/common/PageDecorations.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/presentation/components/common/PageDecorations.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/gallery/components/GalleryDetailClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/gallery/components/GalleryDetailClient.tsx\",\n    \"default\",\n);\n","import React from 'react';\nimport type { Metadata } from 'next';\nimport { redirect } from 'next/navigation';\nimport { PageDecorations } from '@/app/presentation/components/common/PageDecorations';\nimport GalleryDetailClient from '../../gallery/components/GalleryDetailClient';\nimport { galleryRepository } from '@/app/infrastructure/repositories';\n\ninterface AlbumDetailPageProps {\n    params: Promise<{\n        id: string;\n    }>;\n}\n\n// 生成动态元数据\nexport async function generateMetadata({ params }: AlbumDetailPageProps): Promise<Metadata> {\n    const { id } = await params;\n    \n    try {\n        const gallery = await galleryRepository.getGalleryById(id);\n        return {\n            title: `${gallery.title} - 咻咻满图集 | 小满虫之家`,\n            description: gallery.description || `浏览 ${gallery.title} 的精彩图片`,\n        };\n    } catch {\n        return {\n            title: '图集详情 - 小满虫之家',\n            description: '浏览精彩图片',\n        };\n    }\n}\n\n// 服务端数据获取\nasync function getGalleryDetail(id: string) {\n    try {\n        const gallery = await galleryRepository.getGalleryById(id);\n        return gallery;\n    } catch (error) {\n        console.error('Failed to fetch gallery detail:', error);\n        return null;\n    }\n}\n\n// 主页面组件（Server Component）\nexport default async function AlbumDetailPage({ params }: AlbumDetailPageProps) {\n    const { id } = await params;\n    const gallery = await getGalleryDetail(id);\n    \n    if (!gallery) {\n        redirect('/albums');\n    }\n    \n    return (\n        <>\n            {/* 页面装饰 - 图集主题 */}\n            <PageDecorations theme=\"gallery\" />\n            \n            <GalleryDetailClient galleryId={id} />\n        </>\n    );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}